{"source_id":"core","type":"contract","title":"Web App Contract Template","signals":["contract_lock"],"tags":["web","template"],"summary":"A structured template for defining web application project contracts with clear goals, requirements, and acceptance criteria.","chunks":[{"chunk_id":"core:web-contract:1","text":"## Web Application Contract\n\n### Project Overview\n- **Name**: [Project Name]\n- **Type**: Web Application\n- **Target Users**: [Primary user personas]\n\n### Goals\n1. [Primary business goal]\n2. [User experience goal]\n3. [Technical goal]\n\n### Requirements\n- **MUST**: [Critical requirements that block ship]\n- **SHOULD**: [Important but not blocking]\n- **COULD**: [Nice-to-have features]\n\n### Acceptance Criteria\n- [ ] All MUST requirements implemented\n- [ ] Core user flows working end-to-end\n- [ ] Performance within acceptable thresholds\n- [ ] No critical security vulnerabilities","start_line":1,"end_line":20}]}
{"source_id":"core","type":"contract","title":"API Contract Template","signals":["contract_lock"],"tags":["api","template","backend"],"summary":"Template for API development contracts covering endpoints, authentication, rate limits, and versioning requirements.","chunks":[{"chunk_id":"core:api-contract:1","text":"## API Contract\n\n### Service Overview\n- **API Name**: [Service Name]\n- **Base URL**: /api/v1\n- **Authentication**: [JWT/API Key/OAuth2]\n\n### Endpoints\n| Method | Path | Description | Auth Required |\n|--------|------|-------------|---------------|\n| GET | /resources | List all | Yes |\n| POST | /resources | Create new | Yes |\n| GET | /resources/:id | Get by ID | Yes |\n\n### Rate Limits\n- Standard: 100 req/min\n- Authenticated: 1000 req/min\n\n### Versioning\n- URL path versioning (/v1, /v2)\n- Deprecation notice: 90 days minimum","start_line":1,"end_line":20}]}
{"source_id":"core","type":"contract","title":"CLI Tool Contract Template","signals":["contract_lock","state_machine"],"tags":["cli","template","rust","node"],"summary":"Contract template for command-line tools covering commands, flags, exit codes, and cross-platform requirements.","chunks":[{"chunk_id":"core:cli-contract:1","text":"## CLI Tool Contract\n\n### Tool Overview\n- **Name**: [tool-name]\n- **Purpose**: [One-line description]\n- **Platforms**: Windows, macOS, Linux\n\n### Commands\n| Command | Description | Example |\n|---------|-------------|--------|\n| init | Initialize workspace | tool init |\n| run | Execute main action | tool run --config x.json |\n| status | Show current state | tool status -v |\n\n### Exit Codes\n- 0: Success\n- 1: General error\n- 2: Invalid arguments\n- 3: Configuration error\n\n### Distribution\n- Single binary, no runtime dependencies\n- Install via curl/powershell one-liner","start_line":1,"end_line":22}]}
{"source_id":"core","type":"contract","title":"Acceptance Criteria: Performance","signals":["contract_lock"],"tags":["performance","criteria","web","api"],"summary":"Common performance acceptance criteria patterns for web apps and APIs including response times, throughput, and resource limits.","chunks":[{"chunk_id":"core:perf-criteria:1","text":"## Performance Acceptance Criteria\n\n### Response Time\n- P50 latency < 100ms for API calls\n- P95 latency < 500ms\n- P99 latency < 1000ms\n- Page load (LCP) < 2.5 seconds\n\n### Throughput\n- Handle 1000 concurrent users\n- Process 100 requests/second sustained\n\n### Resource Usage\n- Memory < 512MB under normal load\n- CPU < 70% average utilization\n- No memory leaks over 24h run\n\n### Failure Tolerance\n- Graceful degradation under 2x expected load\n- Auto-recovery within 30 seconds","start_line":1,"end_line":18}]}
{"source_id":"core","type":"contract","title":"Acceptance Criteria: UX Patterns","signals":["contract_lock"],"tags":["ux","criteria","web","accessibility"],"summary":"User experience acceptance criteria covering accessibility, responsiveness, error handling, and loading states.","chunks":[{"chunk_id":"core:ux-criteria:1","text":"## UX Acceptance Criteria\n\n### Accessibility\n- WCAG 2.1 AA compliant\n- Keyboard navigation for all actions\n- Screen reader compatible\n- Color contrast ratio >= 4.5:1\n\n### Responsiveness\n- Mobile-first design (320px minimum)\n- Tablet breakpoint at 768px\n- Desktop breakpoint at 1024px\n\n### Loading States\n- Skeleton screens for async content\n- Loading indicator within 100ms\n- Progress for operations > 3 seconds\n\n### Error Handling\n- Clear error messages in plain language\n- Actionable recovery suggestions\n- No raw exception traces to users","start_line":1,"end_line":20}]}
{"source_id":"core","type":"contract","title":"Acceptance Criteria: Error States","signals":["contract_lock"],"tags":["errors","criteria","reliability"],"summary":"Error handling acceptance criteria for graceful failures, user-friendly messages, and recovery options.","chunks":[{"chunk_id":"core:error-criteria:1","text":"## Error State Acceptance Criteria\n\n### User-Facing Errors\n- Friendly message explaining what happened\n- Suggested next steps or workarounds\n- Support contact or documentation link\n- Unique error code for support lookup\n\n### System Errors\n- Logged with full stack trace\n- Correlated with request ID\n- Alerting for error rate spikes\n- No sensitive data in error messages\n\n### Recovery\n- Retry button for transient failures\n- Auto-retry with exponential backoff\n- Preserve user input on form errors\n- Graceful fallback for non-critical features","start_line":1,"end_line":18}]}
{"source_id":"core","type":"contract","title":"Acceptance Criteria: Security","signals":["contract_lock","security_pattern"],"tags":["security","criteria","authentication"],"summary":"Security acceptance criteria covering authentication, authorization, data protection, and vulnerability scanning.","chunks":[{"chunk_id":"core:security-criteria:1","text":"## Security Acceptance Criteria\n\n### Authentication\n- Strong password policy enforced\n- MFA option available\n- Session timeout after inactivity\n- Secure token storage (httpOnly cookies)\n\n### Authorization\n- Role-based access control (RBAC)\n- Principle of least privilege\n- Permission checks on every request\n\n### Data Protection\n- TLS 1.2+ for all connections\n- Sensitive data encrypted at rest\n- PII not logged or exposed\n- GDPR/CCPA compliance if applicable\n\n### Vulnerability Management\n- No critical CVEs in dependencies\n- Regular security scanning\n- Responsible disclosure process","start_line":1,"end_line":21}]}
{"source_id":"core","type":"contract","title":"Out-of-Scope Patterns","signals":["contract_lock"],"tags":["scope","planning"],"summary":"Common patterns for defining what is explicitly out of scope to prevent scope creep during development.","chunks":[{"chunk_id":"core:out-of-scope:1","text":"## Out-of-Scope Definition Patterns\n\n### Explicit Exclusions\n- Mobile native apps (web responsive only)\n- Offline mode (online-first for v1)\n- Third-party integrations (future phase)\n- Legacy browser support (IE11, old Safari)\n- Multi-language i18n (English only for v1)\n\n### Scope Creep Prevention\n- Document all scope changes in writing\n- Require stakeholder sign-off for additions\n- Assess impact on timeline before accepting\n- Create separate tickets for future features\n\n### Boundary Markers\n- \"Not in this release\" tracking list\n- Future roadmap for deferred items\n- Clear versioning for scope (v1 vs v2)","start_line":1,"end_line":18}]}
{"source_id":"core","type":"contract","title":"Scope Creep Prevention Checklist","signals":["contract_lock"],"tags":["scope","planning","checklist"],"summary":"Checklist to identify and prevent scope creep during project development lifecycle.","chunks":[{"chunk_id":"core:scope-creep:1","text":"## Scope Creep Prevention Checklist\n\n### Before Accepting New Work\n- [ ] Is this in the original contract?\n- [ ] What is the timeline impact?\n- [ ] What existing work gets deprioritized?\n- [ ] Who approved this change?\n- [ ] Is there budget for this addition?\n\n### Red Flags\n- \"While you're at it, can you also...\"\n- \"This should be quick...\"\n- \"We forgot to mention...\"\n- Vague requirements that keep expanding\n\n### Response Strategy\n- Log the request formally\n- Provide effort estimate\n- Present trade-offs clearly\n- Defer to next phase if possible","start_line":1,"end_line":19}]}
{"source_id":"core","type":"plan","title":"Web App Implementation Plan Template","signals":["state_machine"],"tags":["web","plan","template"],"summary":"Structured implementation plan template for web application development with phases, milestones, and dependencies.","chunks":[{"chunk_id":"core:web-plan:1","text":"## Web App Implementation Plan\n\n### Phase 1: Foundation (Week 1-2)\n- [ ] Project scaffolding and tooling\n- [ ] Design system setup (colors, typography)\n- [ ] Core layout components\n- [ ] Authentication flow\n- [ ] CI/CD pipeline\n\n### Phase 2: Core Features (Week 3-4)\n- [ ] Primary user flows\n- [ ] Data models and API integration\n- [ ] Form handling and validation\n- [ ] Error boundaries and loading states\n\n### Phase 3: Polish (Week 5)\n- [ ] Responsive design refinements\n- [ ] Performance optimization\n- [ ] Accessibility audit\n- [ ] Cross-browser testing\n\n### Phase 4: Ship (Week 6)\n- [ ] Final QA pass\n- [ ] Documentation\n- [ ] Deployment and monitoring","start_line":1,"end_line":24}]}
{"source_id":"core","type":"plan","title":"API Implementation Plan Template","signals":["state_machine"],"tags":["api","plan","template","backend"],"summary":"Implementation plan template for API development covering design, implementation, testing, and deployment phases.","chunks":[{"chunk_id":"core:api-plan:1","text":"## API Implementation Plan\n\n### Phase 1: Design (Week 1)\n- [ ] OpenAPI/Swagger spec draft\n- [ ] Data model design\n- [ ] Authentication strategy\n- [ ] Rate limiting approach\n- [ ] Error response format\n\n### Phase 2: Core Implementation (Week 2-3)\n- [ ] Database schema and migrations\n- [ ] CRUD endpoints\n- [ ] Input validation\n- [ ] Business logic layer\n- [ ] Unit tests (80% coverage target)\n\n### Phase 3: Integration (Week 4)\n- [ ] External service integrations\n- [ ] Webhook handlers\n- [ ] Background job processing\n- [ ] Integration tests\n\n### Phase 4: Production Ready (Week 5)\n- [ ] Load testing\n- [ ] Security audit\n- [ ] Documentation\n- [ ] Deployment runbook","start_line":1,"end_line":26}]}
{"source_id":"core","type":"plan","title":"CLI Tool Implementation Plan Template","signals":["state_machine"],"tags":["cli","plan","template"],"summary":"Implementation plan for CLI tool development covering argument parsing, commands, cross-compilation, and distribution.","chunks":[{"chunk_id":"core:cli-plan:1","text":"## CLI Tool Implementation Plan\n\n### Phase 1: Foundation (Week 1)\n- [ ] Argument parsing setup\n- [ ] Configuration file handling\n- [ ] Logging infrastructure\n- [ ] Error handling patterns\n- [ ] Basic help and version commands\n\n### Phase 2: Core Commands (Week 2-3)\n- [ ] Primary command implementation\n- [ ] Subcommand structure\n- [ ] Interactive prompts\n- [ ] Progress indicators\n- [ ] Output formatting (JSON, table, plain)\n\n### Phase 3: Polish (Week 4)\n- [ ] Shell completions\n- [ ] Man page generation\n- [ ] Cross-platform testing\n- [ ] Performance profiling\n\n### Phase 4: Distribution (Week 5)\n- [ ] Cross-compilation setup\n- [ ] Install scripts (curl, PowerShell)\n- [ ] Release automation\n- [ ] Checksum generation","start_line":1,"end_line":26}]}
{"source_id":"core","type":"plan","title":"Test Strategy Template","signals":["iterate_loop"],"tags":["testing","plan","strategy"],"summary":"Comprehensive test strategy template covering unit, integration, e2e testing, and quality gates.","chunks":[{"chunk_id":"core:test-strategy:1","text":"## Test Strategy\n\n### Test Pyramid\n- Unit Tests (70%): Fast, isolated, mock dependencies\n- Integration Tests (20%): Real database, API contracts\n- E2E Tests (10%): Critical user journeys only\n\n### Coverage Targets\n- Overall: 80% line coverage minimum\n- Critical paths: 95% coverage\n- New code: Must not decrease coverage\n\n### Quality Gates\n- All tests pass before merge\n- No flaky tests allowed\n- Performance regression detection\n- Security scan clean\n\n### Test Environment\n- Local: SQLite, mocked externals\n- CI: Docker-based, ephemeral\n- Staging: Production-like, seeded data","start_line":1,"end_line":20}]}
{"source_id":"core","type":"plan","title":"Rollback and Safety Plan","signals":["release_install"],"tags":["rollback","safety","deployment"],"summary":"Rollback strategy template for safe deployments including triggers, procedures, and communication plans.","chunks":[{"chunk_id":"core:rollback-plan:1","text":"## Rollback and Safety Plan\n\n### Rollback Triggers\n- Error rate > 5% for 5 minutes\n- P95 latency > 2x baseline\n- Critical functionality broken\n- Security vulnerability discovered\n\n### Rollback Procedure\n1. Alert team in incident channel\n2. Revert to previous deployment\n3. Verify rollback successful\n4. Investigate root cause\n5. Document in post-mortem\n\n### Safety Measures\n- Blue-green deployments\n- Canary releases (5% → 25% → 100%)\n- Feature flags for risky changes\n- Database migration rollback scripts\n\n### Communication\n- Status page update within 5 minutes\n- Customer notification for major issues","start_line":1,"end_line":22}]}
{"source_id":"core","type":"evidence","title":"Evidence Collection Checklist","signals":["evidence_audit"],"tags":["evidence","checklist","audit"],"summary":"Comprehensive checklist for collecting evidence during development including diffs, logs, test results, and lint reports.","chunks":[{"chunk_id":"core:evidence-checklist:1","text":"## Evidence Collection Checklist\n\n### Code Changes\n- [ ] Git diff captured\n- [ ] Commit message follows convention\n- [ ] PR description complete\n- [ ] Linked to issue/ticket\n\n### Test Evidence\n- [ ] Test output captured\n- [ ] Coverage report generated\n- [ ] All tests passing\n- [ ] No skipped tests without reason\n\n### Quality Checks\n- [ ] Lint output clean (or warnings documented)\n- [ ] Format check passing\n- [ ] Type check passing\n- [ ] Security scan results\n\n### Build Artifacts\n- [ ] Build log captured\n- [ ] Binary checksums generated\n- [ ] Artifact sizes documented","start_line":1,"end_line":22}]}
{"source_id":"core","type":"evidence","title":"Git Diff Capture Best Practices","signals":["evidence_audit"],"tags":["git","diff","evidence"],"summary":"Best practices for capturing meaningful git diffs as evidence of work completed.","chunks":[{"chunk_id":"core:git-diff:1","text":"## Git Diff Capture Best Practices\n\n### What to Capture\n- Staged changes: `git diff --cached`\n- All changes: `git diff HEAD`\n- Specific files: `git diff -- path/to/file`\n- Summary stats: `git diff --stat`\n\n### Diff Formatting\n- Include file names and line numbers\n- Context of 3-5 lines around changes\n- Binary files noted but not diffed\n- Large diffs split by component\n\n### Storage\n- Save as .patch files for replay\n- Timestamp in filename\n- Compress if > 1MB\n- Link to commit SHA","start_line":1,"end_line":18}]}
{"source_id":"core","type":"audit","title":"Audit Event Schema Guidance","signals":["evidence_audit"],"tags":["audit","schema","logging"],"summary":"Guidance for designing audit event schemas with required fields, optional metadata, and privacy considerations.","chunks":[{"chunk_id":"core:audit-schema:1","text":"## Audit Event Schema\n\n### Required Fields\n- timestamp: ISO 8601 format with timezone\n- event_type: Enum of known event types\n- actor: User or system identifier\n- action: What was done (create, update, delete)\n- resource: What was affected\n- session_id: Correlation identifier\n\n### Optional Metadata\n- ip_address: For security audits\n- user_agent: Client identification\n- duration_ms: For performance tracking\n- previous_value: For change tracking\n- new_value: For change tracking (redacted if sensitive)\n\n### Privacy\n- No PII in audit logs by default\n- Redact sensitive fields\n- Retention policy defined","start_line":1,"end_line":20}]}
{"source_id":"core","type":"audit","title":"Session Naming Conventions","signals":["evidence_audit"],"tags":["session","naming","convention"],"summary":"Naming conventions for development sessions to enable clear tracking and correlation of work.","chunks":[{"chunk_id":"core:session-naming:1","text":"## Session Naming Conventions\n\n### Format\n- Pattern: {date}_{type}_{short-desc}_{id}\n- Example: 2024-01-15_feat_auth-flow_a1b2c3\n\n### Types\n- feat: New feature development\n- fix: Bug fix session\n- refactor: Code improvement\n- docs: Documentation work\n- test: Test writing session\n- build: Build/CI changes\n\n### Best Practices\n- Keep description under 20 chars\n- Use lowercase with hyphens\n- Include random suffix for uniqueness\n- Never reuse session IDs","start_line":1,"end_line":18}]}
{"source_id":"core","type":"audit","title":"Audit Log Retention Policies","signals":["evidence_audit"],"tags":["audit","retention","compliance"],"summary":"Guidelines for audit log retention periods based on compliance requirements and business needs.","chunks":[{"chunk_id":"core:audit-retention:1","text":"## Audit Log Retention Policies\n\n### Standard Retention\n- Development logs: 30 days\n- Production logs: 90 days\n- Security events: 1 year\n- Financial transactions: 7 years\n\n### Compliance Requirements\n- GDPR: Right to be forgotten considerations\n- SOC2: Minimum 1 year for security events\n- HIPAA: 6 years for healthcare data\n- PCI-DSS: 1 year minimum\n\n### Storage Strategy\n- Hot storage: Last 7 days (fast query)\n- Warm storage: 8-90 days (compressed)\n- Cold storage: 90+ days (archived)\n- Deletion: Automated after retention period","start_line":1,"end_line":18}]}
{"source_id":"core","type":"iterate","title":"Diagnose Failing Tests Playbook","signals":["iterate_loop"],"tags":["testing","debug","playbook"],"summary":"Step-by-step playbook for diagnosing and understanding failing tests before attempting fixes.","chunks":[{"chunk_id":"core:diagnose-tests:1","text":"## Diagnose Failing Tests Playbook\n\n### Step 1: Read the Error\n- Full error message and stack trace\n- Expected vs actual values\n- Which assertion failed\n\n### Step 2: Reproduce Locally\n- Run the specific test in isolation\n- Check if it's flaky (run 3x)\n- Verify test data/fixtures are correct\n\n### Step 3: Identify Root Cause\n- Is it a test bug or code bug?\n- Did recent changes break it?\n- Is it an environment issue?\n\n### Step 4: Categorize\n- Assertion failure: Logic bug\n- Timeout: Performance or async issue\n- Setup failure: Environment or fixture\n- Random failure: Flaky test or race condition","start_line":1,"end_line":20}]}
{"source_id":"core","type":"iterate","title":"Fix Strategy Ladder","signals":["iterate_loop"],"tags":["fixing","strategy","debugging"],"summary":"Graduated approach to fixing issues from quick fixes to larger refactors, with clear escalation criteria.","chunks":[{"chunk_id":"core:fix-ladder:1","text":"## Fix Strategy Ladder\n\n### Level 1: Quick Fix (< 15 min)\n- Typo or minor syntax error\n- Missing import or dependency\n- Configuration value wrong\n- Simple logic inversion\n\n### Level 2: Standard Fix (15-60 min)\n- Logic bug in single function\n- Missing edge case handling\n- Incorrect API usage\n- Test fixture needs update\n\n### Level 3: Medium Refactor (1-4 hours)\n- Multiple related bugs\n- Interface change needed\n- Better abstraction required\n- Significant test updates\n\n### Level 4: Large Refactor (> 4 hours)\n- Architectural issue\n- Create separate ticket\n- Discuss with team first\n- May need design review","start_line":1,"end_line":24}]}
{"source_id":"core","type":"iterate","title":"Max Iterations Policy","signals":["iterate_loop"],"tags":["iterate","policy","limits"],"summary":"Policy for setting maximum iteration limits in automated test-fix loops to prevent infinite cycles.","chunks":[{"chunk_id":"core:max-iterations:1","text":"## Max Iterations Policy\n\n### Recommended Limits\n- Simple lint fixes: 3 iterations\n- Unit test fixes: 5 iterations\n- Integration tests: 10 iterations\n- Full build cycle: 10 iterations\n\n### Escalation Triggers\n- Same error 3 times in a row\n- No progress after 50% of max\n- Error count increasing\n- Timeout exceeded\n\n### On Limit Reached\n1. Stop automated fixing\n2. Save current state\n3. Generate diagnostic report\n4. Flag for human review\n5. Log all attempted fixes","start_line":1,"end_line":19}]}
{"source_id":"core","type":"iterate","title":"Strict Mode Guidelines","signals":["iterate_loop"],"tags":["strict","quality","gates"],"summary":"Guidelines for strict mode in iterate loops where any failure stops the process immediately.","chunks":[{"chunk_id":"core:strict-mode:1","text":"## Strict Mode Guidelines\n\n### When to Use Strict Mode\n- Critical production fixes\n- Security-sensitive code\n- Financial calculations\n- Data migration scripts\n- Release candidates\n\n### Strict Mode Behavior\n- Fail on first error (no retry)\n- Warnings treated as errors\n- All lints must pass\n- No skipped tests allowed\n- Coverage must not decrease\n\n### When to Relax\n- Early prototyping\n- Exploratory development\n- Non-critical documentation\n- Known flaky test exclusions","start_line":1,"end_line":19}]}
{"source_id":"core","type":"iterate","title":"Test-Lint-Fix Loop Pattern","signals":["iterate_loop"],"tags":["testing","lint","automation"],"summary":"Standard pattern for automated test-lint-fix loops with ordering and failure handling.","chunks":[{"chunk_id":"core:test-lint-fix:1","text":"## Test-Lint-Fix Loop Pattern\n\n### Execution Order\n1. Format check (fastest)\n2. Lint check\n3. Type check\n4. Unit tests\n5. Integration tests (if unit passes)\n\n### On Failure\n- Capture full output\n- Parse error locations\n- Attempt targeted fix\n- Re-run failed check only\n- Success: continue to next check\n- Fail again: increment attempt counter\n\n### Exit Conditions\n- All checks pass: Success\n- Max iterations reached: Stop with report\n- Unrecoverable error: Stop immediately\n- User interrupt: Save state and exit","start_line":1,"end_line":20}]}
{"source_id":"core","type":"security","title":"Secret Redaction Rules","signals":["security_pattern"],"tags":["security","secrets","redaction"],"summary":"Rules for automatically detecting and redacting secrets from logs, diffs, and outputs.","chunks":[{"chunk_id":"core:secret-redaction:1","text":"## Secret Redaction Rules\n\n### Detection Patterns\n- API keys: sk-*, pk-*, api_key=, apikey:\n- AWS: AKIA*, aws_secret_access_key\n- GitHub: ghp_*, gho_*, github_token\n- Bearer tokens: Bearer *, Authorization: *\n- Passwords: password=, passwd:, pwd=\n- Private keys: -----BEGIN * PRIVATE KEY-----\n- Connection strings: ://user:pass@\n\n### Redaction Format\n- Replace with: [REDACTED]\n- Or: ***HIDDEN***\n- Keep type hint: [REDACTED:API_KEY]\n\n### What NOT to Redact\n- Public keys\n- Non-secret environment variables\n- Documentation examples\n- Test fixture placeholders","start_line":1,"end_line":20}]}
{"source_id":"core","type":"security","title":"Ignore and Allow Glob Patterns","signals":["security_pattern"],"tags":["security","glob","configuration"],"summary":"Guidance for configuring ignore and allow glob patterns for file operations and harvesting.","chunks":[{"chunk_id":"core:glob-patterns:1","text":"## Ignore and Allow Glob Patterns\n\n### Common Ignore Patterns\n- node_modules/**\n- .git/**\n- *.log\n- *.tmp\n- .env*\n- dist/**\n- build/**\n- coverage/**\n- *.min.js\n- vendor/**\n\n### Allow Patterns (override ignores)\n- !.env.example\n- !.github/**\n- !docs/**\n\n### Best Practices\n- Be specific, avoid ** alone\n- Test patterns before applying\n- Document unusual patterns\n- Review regularly for drift","start_line":1,"end_line":23}]}
{"source_id":"core","type":"security","title":"Safe Subprocess Execution Checklist","signals":["security_pattern"],"tags":["security","subprocess","safety"],"summary":"Checklist for safely executing subprocesses and external commands in applications.","chunks":[{"chunk_id":"core:subprocess-safety:1","text":"## Safe Subprocess Execution Checklist\n\n### Before Execution\n- [ ] Validate all input parameters\n- [ ] Avoid shell=true when possible\n- [ ] Use absolute paths for executables\n- [ ] Set explicit working directory\n- [ ] Define timeout limits\n\n### During Execution\n- [ ] Capture stdout and stderr\n- [ ] Monitor resource usage\n- [ ] Handle signals gracefully\n- [ ] Stream output for long processes\n\n### After Execution\n- [ ] Check exit code\n- [ ] Validate output format\n- [ ] Clean up temp files\n- [ ] Log execution details (redacted)\n\n### Never Do\n- Concatenate user input into commands\n- Trust subprocess output blindly\n- Ignore non-zero exit codes","start_line":1,"end_line":24}]}
{"source_id":"core","type":"security","title":"Environment Variable Security","signals":["security_pattern"],"tags":["security","environment","configuration"],"summary":"Best practices for handling environment variables securely in applications.","chunks":[{"chunk_id":"core:env-security:1","text":"## Environment Variable Security\n\n### Sensitive Variables\n- Never log or print\n- Never include in error messages\n- Never commit to source control\n- Rotate regularly\n\n### Loading Order\n1. Defaults (non-sensitive)\n2. Config files (checked in)\n3. Environment variables (override)\n4. Command-line args (highest priority)\n\n### Validation\n- Check required vars on startup\n- Fail fast if missing critical vars\n- Provide helpful error messages\n- Document all required variables\n\n### Examples\n- .env.example with placeholders\n- README with setup instructions\n- CI/CD secret management","start_line":1,"end_line":22}]}
{"source_id":"core","type":"release","title":"Release Artifact Naming Conventions","signals":["release_install"],"tags":["release","naming","distribution"],"summary":"Standard naming conventions for release artifacts to ensure clarity and prevent confusion.","chunks":[{"chunk_id":"core:artifact-naming:1","text":"## Release Artifact Naming Conventions\n\n### Binary Naming\n- Pattern: {name}-{os}-{arch}[.ext]\n- Examples:\n  - myapp-linux-x64\n  - myapp-macos-arm64\n  - myapp-windows-x64.exe\n\n### Archive Naming\n- Pattern: {name}-{version}-{os}-{arch}.{ext}\n- Examples:\n  - myapp-1.2.3-linux-x64.tar.gz\n  - myapp-1.2.3-windows-x64.zip\n\n### OS Values\n- linux, darwin/macos, windows\n\n### Arch Values\n- x64/x86_64, arm64/aarch64\n- Prefer shorter forms for filenames","start_line":1,"end_line":20}]}
{"source_id":"core","type":"release","title":"Checksum Verification Patterns","signals":["release_install"],"tags":["release","checksum","security"],"summary":"Patterns for generating and verifying checksums in release workflows.","chunks":[{"chunk_id":"core:checksum-patterns:1","text":"## Checksum Verification Patterns\n\n### Generation\n- SHA256 for all release binaries\n- One line per file: {hash}  {filename}\n- File: checksums.txt or SHA256SUMS\n\n### Verification (Unix)\n```\ncurl -LO release.tar.gz\ncurl -LO checksums.txt\nsha256sum -c checksums.txt\n```\n\n### Verification (Windows)\n```powershell\n$hash = (Get-FileHash release.zip).Hash\n$expected = (Get-Content checksums.txt | Select-String release.zip)\nif ($hash -ne $expected) { throw \"Mismatch\" }\n```\n\n### Best Practices\n- Sign checksums file with GPG\n- Include in release notes\n- Automate in CI/CD","start_line":1,"end_line":24}]}
{"source_id":"core","type":"release","title":"Self-Update Safety Patterns","signals":["release_install"],"tags":["release","update","safety"],"summary":"Safety patterns for implementing self-update functionality in CLI tools.","chunks":[{"chunk_id":"core:self-update:1","text":"## Self-Update Safety Patterns\n\n### Pre-Update Checks\n- Verify version is actually newer\n- Check disk space available\n- Validate download URL domain\n- Verify checksum before replacing\n\n### Update Process\n1. Download to temp location\n2. Verify checksum\n3. Backup current binary\n4. Atomic replace (rename)\n5. Verify new binary runs\n6. Clean up temp files\n\n### Rollback Strategy\n- Keep .bak of previous version\n- Auto-rollback if new version fails\n- Provide manual rollback command\n\n### Platform Notes\n- Windows: Can't replace running exe directly\n- Unix: Can replace, but restart required","start_line":1,"end_line":22}]}
{"source_id":"core","type":"release","title":"Install Script Best Practices","signals":["release_install"],"tags":["release","install","distribution"],"summary":"Best practices for creating reliable cross-platform install scripts.","chunks":[{"chunk_id":"core:install-scripts:1","text":"## Install Script Best Practices\n\n### Unix (curl | bash)\n- Detect OS and architecture\n- Verify curl/wget available\n- Download to temp first\n- Verify checksum\n- Install to ~/.local/bin or /usr/local/bin\n- Prompt for sudo if needed\n- Update PATH instructions\n\n### Windows (PowerShell)\n- Use Invoke-RestMethod for download\n- Detect architecture (x64/arm64)\n- Install to ~\\.local\\bin\n- Use native Write-Host for colors\n- Add to PATH guidance\n\n### Both Platforms\n- Fail loudly on errors\n- Provide uninstall instructions\n- Show version after install\n- Support --version flag immediately","start_line":1,"end_line":21}]}
{"source_id":"core","type":"template","title":"Changelog Entry Format","signals":["release_install"],"tags":["changelog","release","documentation"],"summary":"Standard format for changelog entries following Keep a Changelog conventions.","chunks":[{"chunk_id":"core:changelog-format:1","text":"## Changelog Entry Format\n\n### Structure\n- Group by version (newest first)\n- Date in ISO format (YYYY-MM-DD)\n- Categories: Added, Changed, Deprecated, Removed, Fixed, Security\n\n### Example\n```markdown\n## [1.2.0] - 2024-01-15\n\n### Added\n- New `brain search` command for semantic search\n- Core BrainPack shipped with CLI\n\n### Fixed\n- PowerShell color rendering on Windows\n- Memory leak in harvest command\n\n### Security\n- Updated dependencies to fix CVE-2024-XXXX\n```\n\n### Best Practices\n- Use imperative mood (Add, Fix, not Added, Fixed)\n- Link to issues/PRs\n- No internal jargon","start_line":1,"end_line":25}]}
{"source_id":"core","type":"template","title":"PR Description Template","signals":["evidence_audit"],"tags":["template","pr","documentation"],"summary":"Pull request description template for clear communication of changes.","chunks":[{"chunk_id":"core:pr-template:1","text":"## Pull Request Description Template\n\n### What\n[One paragraph describing the change]\n\n### Why\n[Business or technical reason for the change]\n\n### How\n[Brief technical approach taken]\n\n### Testing\n- [ ] Unit tests added/updated\n- [ ] Integration tests pass\n- [ ] Manual testing completed\n\n### Checklist\n- [ ] Code follows style guidelines\n- [ ] Documentation updated\n- [ ] No breaking changes (or documented)\n- [ ] Reviewed by: @teammate\n\n### Screenshots\n[If UI changes, include before/after]","start_line":1,"end_line":22}]}
{"source_id":"core","type":"template","title":"Bug Report Template","signals":["evidence_audit"],"tags":["template","bug","documentation"],"summary":"Template for filing clear and actionable bug reports.","chunks":[{"chunk_id":"core:bug-template:1","text":"## Bug Report Template\n\n### Description\n[Clear, concise description of the bug]\n\n### Steps to Reproduce\n1. [First step]\n2. [Second step]\n3. [Third step]\n\n### Expected Behavior\n[What should happen]\n\n### Actual Behavior\n[What actually happens]\n\n### Environment\n- OS: [e.g., Windows 11, macOS 14]\n- Version: [e.g., v1.2.3]\n- Shell: [e.g., PowerShell 7, bash 5]\n\n### Additional Context\n- Screenshots if applicable\n- Error logs (redacted)\n- Related issues","start_line":1,"end_line":24}]}
{"source_id":"core","type":"plan","title":"Code Review Checklist","signals":["evidence_audit"],"tags":["review","checklist","quality"],"summary":"Comprehensive code review checklist covering functionality, code quality, testing, and security.","chunks":[{"chunk_id":"core:review-checklist:1","text":"## Code Review Checklist\n\n### Functionality\n- [ ] Code does what it claims to do\n- [ ] Edge cases handled\n- [ ] Error handling appropriate\n- [ ] No obvious logic bugs\n\n### Code Quality\n- [ ] Clear naming for variables/functions\n- [ ] No unnecessary complexity\n- [ ] DRY principle followed\n- [ ] Comments explain \"why\" not \"what\"\n\n### Testing\n- [ ] Tests cover new functionality\n- [ ] Tests are readable and maintainable\n- [ ] No flaky tests introduced\n- [ ] Edge cases tested\n\n### Security\n- [ ] No secrets in code\n- [ ] Input validation present\n- [ ] No SQL injection vectors\n- [ ] Dependencies checked for CVEs","start_line":1,"end_line":24}]}
{"source_id":"core","type":"iterate","title":"Common Lint Errors and Fixes","signals":["iterate_loop"],"tags":["lint","errors","fixing"],"summary":"Common lint errors encountered during development and their typical fixes.","chunks":[{"chunk_id":"core:lint-fixes:1","text":"## Common Lint Errors and Fixes\n\n### Unused Variables\n- Error: Variable defined but never used\n- Fix: Remove or prefix with underscore (_unused)\n\n### Missing Return Type\n- Error: Function missing explicit return type\n- Fix: Add return type annotation\n\n### Unused Imports\n- Error: Import not used in file\n- Fix: Remove unused import statements\n\n### Line Too Long\n- Error: Line exceeds maximum length\n- Fix: Break into multiple lines, extract variable\n\n### Mixed Indentation\n- Error: Tabs and spaces mixed\n- Fix: Use consistent indentation (prefer spaces)","start_line":1,"end_line":20}]}
{"source_id":"core","type":"iterate","title":"Build Error Resolution Guide","signals":["iterate_loop"],"tags":["build","errors","debugging"],"summary":"Guide for resolving common build errors across different build systems.","chunks":[{"chunk_id":"core:build-errors:1","text":"## Build Error Resolution Guide\n\n### Missing Dependency\n- Error: Cannot find module/crate\n- Fix: Add to package.json/Cargo.toml, run install\n\n### Version Mismatch\n- Error: Incompatible versions\n- Fix: Check lock file, update or pin versions\n\n### Type Error\n- Error: Type mismatch or missing\n- Fix: Correct type annotations, add conversions\n\n### Linking Error\n- Error: Undefined symbol\n- Fix: Check feature flags, add missing native deps\n\n### Out of Memory\n- Error: Build killed/OOM\n- Fix: Increase memory, use incremental builds","start_line":1,"end_line":20}]}
{"source_id":"core","type":"contract","title":"Definition of Done","signals":["contract_lock"],"tags":["criteria","done","checklist"],"summary":"Standard definition of done checklist for completing work items.","chunks":[{"chunk_id":"core:definition-done:1","text":"## Definition of Done\n\n### Code Complete\n- [ ] All acceptance criteria met\n- [ ] Code reviewed and approved\n- [ ] Tests written and passing\n- [ ] No known bugs introduced\n\n### Quality Complete\n- [ ] Lint and format checks pass\n- [ ] Coverage target maintained\n- [ ] No new security warnings\n- [ ] Performance within bounds\n\n### Documentation Complete\n- [ ] Code comments updated\n- [ ] README updated if needed\n- [ ] Changelog entry added\n- [ ] API docs regenerated\n\n### Deployment Ready\n- [ ] Merged to main branch\n- [ ] CI/CD pipeline green\n- [ ] Ready for release","start_line":1,"end_line":24}]}
{"source_id":"core","type":"contract","title":"MOSCOW Prioritization Guide","signals":["contract_lock"],"tags":["prioritization","planning","requirements"],"summary":"Guide for using MOSCOW method to prioritize requirements in contracts.","chunks":[{"chunk_id":"core:moscow-guide:1","text":"## MOSCOW Prioritization\n\n### MUST Have\n- Critical for delivery\n- System won't work without\n- Cannot workaround\n- Legal/compliance requirement\n\n### SHOULD Have\n- Important but not critical\n- Workaround exists\n- Expected by users\n- Significant value add\n\n### COULD Have\n- Nice to have\n- Low impact if missing\n- Can defer to later phase\n\n### WON'T Have (this time)\n- Explicitly excluded\n- Deferred to future scope\n- Document why excluded","start_line":1,"end_line":22}]}
{"source_id":"core","type":"evidence","title":"Test Output Capture Standards","signals":["evidence_audit"],"tags":["testing","output","evidence"],"summary":"Standards for capturing and preserving test output as evidence.","chunks":[{"chunk_id":"core:test-output:1","text":"## Test Output Capture Standards\n\n### What to Capture\n- Full stdout and stderr\n- Exit code\n- Duration of each test\n- Memory usage (if monitoring)\n- Timestamp of run\n\n### Output Format\n- Plain text for logs\n- JSON for machine processing\n- JUnit XML for CI integration\n\n### Storage\n- Session directory with timestamp\n- Compress after 24 hours\n- Retain for audit period\n- Include in evidence bundle","start_line":1,"end_line":18}]}
{"source_id":"core","type":"security","title":"CORS Configuration Patterns","signals":["security_pattern"],"tags":["security","cors","web"],"summary":"Cross-Origin Resource Sharing configuration patterns for web APIs.","chunks":[{"chunk_id":"core:cors-patterns:1","text":"## CORS Configuration Patterns\n\n### Restrictive (Recommended)\n- Allow-Origin: Specific domains only\n- Allow-Methods: Only needed methods\n- Allow-Headers: Specific required headers\n- Max-Age: Cache preflight for 24h\n\n### Permissive (Development Only)\n- Allow-Origin: *\n- Allow-Credentials: false (required with *)\n- Never use in production\n\n### Best Practices\n- Validate Origin header server-side\n- Don't trust only client validation\n- List allowed origins explicitly\n- Audit CORS config regularly","start_line":1,"end_line":17}]}
{"source_id":"core","type":"security","title":"Input Validation Patterns","signals":["security_pattern"],"tags":["security","validation","input"],"summary":"Common input validation patterns to prevent security vulnerabilities.","chunks":[{"chunk_id":"core:input-validation:1","text":"## Input Validation Patterns\n\n### String Inputs\n- Max length check\n- Allowed characters whitelist\n- Trim whitespace\n- Normalize unicode\n\n### Numeric Inputs\n- Range validation\n- Type coercion safety\n- Overflow prevention\n\n### File Inputs\n- Extension whitelist\n- MIME type validation\n- Max size limit\n- Virus scanning for uploads\n\n### URL Inputs\n- Protocol whitelist (https only)\n- Domain validation\n- Path traversal prevention\n- No localhost/internal IPs","start_line":1,"end_line":23}]}
{"source_id":"core","type":"template","title":"Post-Mortem Template","signals":["evidence_audit"],"tags":["template","incident","retrospective"],"summary":"Template for documenting and learning from production incidents.","chunks":[{"chunk_id":"core:postmortem-template:1","text":"## Post-Mortem Template\n\n### Incident Summary\n- Date/Time: [When it happened]\n- Duration: [How long]\n- Impact: [What was affected]\n- Severity: [P1/P2/P3/P4]\n\n### Timeline\n- [HH:MM] First alert triggered\n- [HH:MM] Team notified\n- [HH:MM] Root cause identified\n- [HH:MM] Mitigation applied\n- [HH:MM] Fully resolved\n\n### Root Cause\n[What actually caused the incident]\n\n### Action Items\n- [ ] Immediate fix\n- [ ] Preventive measures\n- [ ] Monitoring improvements\n- [ ] Documentation updates\n\n### Lessons Learned\n[What we learned, no blame]","start_line":1,"end_line":25}]}
{"source_id":"core","type":"plan","title":"Sprint Planning Template","signals":["state_machine"],"tags":["planning","sprint","agile"],"summary":"Template for sprint planning with capacity, goals, and commitment tracking.","chunks":[{"chunk_id":"core:sprint-template:1","text":"## Sprint Planning Template\n\n### Sprint Overview\n- Sprint: [Number]\n- Dates: [Start] to [End]\n- Capacity: [Story points available]\n\n### Sprint Goal\n[One clear, measurable goal]\n\n### Committed Items\n| ID | Title | Points | Owner |\n|----|-------|--------|-------|\n| T-1 | Feature X | 5 | @dev |\n| T-2 | Bug fix Y | 2 | @dev |\n\n### Stretch Goals\n[Items to pick up if time permits]\n\n### Dependencies\n- [External team/service dependencies]\n\n### Risks\n- [Known risks and mitigation]","start_line":1,"end_line":23}]}
{"source_id":"core","type":"iterate","title":"Performance Debugging Playbook","signals":["iterate_loop"],"tags":["performance","debugging","profiling"],"summary":"Playbook for diagnosing and fixing performance issues.","chunks":[{"chunk_id":"core:perf-debug:1","text":"## Performance Debugging Playbook\n\n### Step 1: Quantify\n- Measure current baseline\n- Define target improvement\n- Identify bottleneck metric (CPU, memory, I/O)\n\n### Step 2: Profile\n- Use profiler for CPU-bound\n- Memory analyzer for leaks\n- Trace for I/O-bound\n- Flame graphs for visualization\n\n### Step 3: Analyze\n- Find hotspots (top 20%)\n- Look for N+1 queries\n- Check cache hit rates\n- Review algorithm complexity\n\n### Step 4: Fix\n- Optimize hot paths first\n- Add caching where beneficial\n- Batch database queries\n- Lazy load where possible","start_line":1,"end_line":22}]}
{"source_id":"core","type":"evidence","title":"Coverage Report Interpretation","signals":["evidence_audit","iterate_loop"],"tags":["testing","coverage","metrics"],"summary":"How to interpret and act on code coverage reports.","chunks":[{"chunk_id":"core:coverage-interpret:1","text":"## Coverage Report Interpretation\n\n### Metrics Explained\n- Line coverage: % of lines executed\n- Branch coverage: % of decision paths\n- Function coverage: % of functions called\n\n### Healthy Targets\n- 80% overall is good baseline\n- 95% for critical paths\n- 100% for security-sensitive code\n\n### What to Ignore\n- Generated code\n- Vendor/third-party code\n- Unreachable error handlers\n- Deprecated code paths\n\n### Red Flags\n- Coverage drops on PR\n- Critical code uncovered\n- Tests exist but coverage low (assertions missing)","start_line":1,"end_line":20}]}
{"source_id":"core","type":"release","title":"Semantic Versioning Guide","signals":["release_install"],"tags":["versioning","release","semver"],"summary":"Guide to semantic versioning for release management.","chunks":[{"chunk_id":"core:semver-guide:1","text":"## Semantic Versioning Guide\n\n### Version Format: MAJOR.MINOR.PATCH\n\n### MAJOR (breaking)\n- Remove public API\n- Change behavior incompatibly\n- Major dependency update\n\n### MINOR (feature)\n- Add new capability\n- Deprecate (not remove) API\n- Backward-compatible changes\n\n### PATCH (fix)\n- Bug fixes\n- Security patches\n- Documentation updates\n- Performance improvements\n\n### Pre-release\n- Alpha: 1.0.0-alpha.1 (unstable)\n- Beta: 1.0.0-beta.1 (feature complete)\n- RC: 1.0.0-rc.1 (release candidate)","start_line":1,"end_line":22}]}
{"source_id":"core","type":"plan","title":"Technical Debt Tracking","signals":["state_machine"],"tags":["planning","debt","maintenance"],"summary":"Framework for identifying, prioritizing, and addressing technical debt.","chunks":[{"chunk_id":"core:tech-debt:1","text":"## Technical Debt Tracking\n\n### Categories\n- Code debt: Hacks, workarounds, copy-paste\n- Design debt: Poor abstractions, missing patterns\n- Test debt: Missing coverage, flaky tests\n- Dependency debt: Outdated packages, vulnerabilities\n- Documentation debt: Outdated docs, missing examples\n\n### Prioritization\n- Pain level (1-5): How much it hurts development\n- Effort (1-5): How much work to fix\n- Risk (1-5): Consequences if not addressed\n- Priority = Pain × Risk / Effort\n\n### Tracking\n- Tag tickets with tech-debt label\n- Allocate 20% sprint capacity\n- Track debt reduction over time\n- Celebrate debt paydown","start_line":1,"end_line":19}]}
{"source_id":"core","type":"security","title":"Dependency Scanning Patterns","signals":["security_pattern"],"tags":["security","dependencies","scanning"],"summary":"Patterns for scanning and managing dependency vulnerabilities.","chunks":[{"chunk_id":"core:dep-scanning:1","text":"## Dependency Scanning Patterns\n\n### Scan Frequency\n- On every PR (blocking)\n- Daily for main branch\n- Weekly full audit\n\n### Severity Handling\n- Critical: Block merge, fix immediately\n- High: Fix within 48 hours\n- Medium: Fix within 1 week\n- Low: Track, fix when convenient\n\n### Safe Update Strategy\n1. Review changelog\n2. Check for breaking changes\n3. Run test suite\n4. Deploy to staging first\n5. Monitor for issues\n\n### Tools\n- Native: npm audit, cargo audit\n- Dedicated: Dependabot, Snyk, Renovate","start_line":1,"end_line":21}]}
{"source_id":"core","type":"contract","title":"API Versioning Strategy","signals":["contract_lock"],"tags":["api","versioning","contract"],"summary":"Strategies for versioning APIs to maintain backward compatibility.","chunks":[{"chunk_id":"core:api-versioning:1","text":"## API Versioning Strategy\n\n### Methods\n- URL path: /api/v1/resource (recommended)\n- Header: Accept-Version: v1\n- Query param: ?version=1 (not recommended)\n\n### When to Version\n- Breaking response format change\n- Removing fields or endpoints\n- Changing authentication method\n- Incompatible behavior change\n\n### Deprecation Process\n1. Announce deprecation (90 days notice)\n2. Add Deprecation header\n3. Log usage of deprecated endpoints\n4. Notify active users directly\n5. Remove after notice period\n\n### Best Practices\n- Support N and N-1 versions\n- Clear migration guides\n- Sunset dates documented","start_line":1,"end_line":22}]}
{"source_id":"core","type":"template","title":"README Structure Template","signals":["evidence_audit"],"tags":["template","readme","documentation"],"summary":"Standard structure for project README files.","chunks":[{"chunk_id":"core:readme-template:1","text":"## README Structure Template\n\n### Essential Sections\n1. Title and badges\n2. One-line description\n3. Quick install command\n4. Minimal usage example\n5. Link to full documentation\n\n### Recommended Sections\n- Features list\n- Requirements/Prerequisites\n- Configuration options\n- Contributing guidelines\n- License information\n- Support channels\n\n### Best Practices\n- Keep main README concise\n- Link to detailed docs\n- Update with each release\n- Include screenshots for UI","start_line":1,"end_line":20}]}
