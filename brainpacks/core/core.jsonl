{"source_id":"core","type":"contract","title":"Web App Contract Template","signals":["contract_lock"],"tags":["web","template"],"summary":"A structured template for defining web application project contracts with clear goals, requirements, and acceptance criteria.","chunks":[{"chunk_id":"core:web-contract:1","text":"## Web Application Contract\n\n### Project Overview\n- **Name**: [Project Name]\n- **Type**: Web Application\n- **Target Users**: [Primary user personas]\n\n### Goals\n1. [Primary business goal]\n2. [User experience goal]\n3. [Technical goal]\n\n### Requirements\n- **MUST**: [Critical requirements that block ship]\n- **SHOULD**: [Important but not blocking]\n- **COULD**: [Nice-to-have features]\n\n### Acceptance Criteria\n- [ ] All MUST requirements implemented\n- [ ] Core user flows working end-to-end\n- [ ] Performance within acceptable thresholds\n- [ ] No critical security vulnerabilities","start_line":1,"end_line":20}]}
{"source_id":"core","type":"contract","title":"API Contract Template","signals":["contract_lock"],"tags":["api","template","backend"],"summary":"Template for API development contracts covering endpoints, authentication, rate limits, and versioning requirements.","chunks":[{"chunk_id":"core:api-contract:1","text":"## API Contract\n\n### Service Overview\n- **API Name**: [Service Name]\n- **Base URL**: /api/v1\n- **Authentication**: [JWT/API Key/OAuth2]\n\n### Endpoints\n| Method | Path | Description | Auth Required |\n|--------|------|-------------|---------------|\n| GET | /resources | List all | Yes |\n| POST | /resources | Create new | Yes |\n| GET | /resources/:id | Get by ID | Yes |\n\n### Rate Limits\n- Standard: 100 req/min\n- Authenticated: 1000 req/min\n\n### Versioning\n- URL path versioning (/v1, /v2)\n- Deprecation notice: 90 days minimum","start_line":1,"end_line":20}]}
{"source_id":"core","type":"contract","title":"CLI Tool Contract Template","signals":["contract_lock","state_machine"],"tags":["cli","template","rust","node"],"summary":"Contract template for command-line tools covering commands, flags, exit codes, and cross-platform requirements.","chunks":[{"chunk_id":"core:cli-contract:1","text":"## CLI Tool Contract\n\n### Tool Overview\n- **Name**: [tool-name]\n- **Purpose**: [One-line description]\n- **Platforms**: Windows, macOS, Linux\n\n### Commands\n| Command | Description | Example |\n|---------|-------------|--------|\n| init | Initialize workspace | tool init |\n| run | Execute main action | tool run --config x.json |\n| status | Show current state | tool status -v |\n\n### Exit Codes\n- 0: Success\n- 1: General error\n- 2: Invalid arguments\n- 3: Configuration error\n\n### Distribution\n- Single binary, no runtime dependencies\n- Install via curl/powershell one-liner","start_line":1,"end_line":22}]}
{"source_id":"core","type":"contract","title":"Acceptance Criteria: Performance","signals":["contract_lock"],"tags":["performance","criteria","web","api"],"summary":"Common performance acceptance criteria patterns for web apps and APIs including response times, throughput, and resource limits.","chunks":[{"chunk_id":"core:perf-criteria:1","text":"## Performance Acceptance Criteria\n\n### Response Time\n- P50 latency < 100ms for API calls\n- P95 latency < 500ms\n- P99 latency < 1000ms\n- Page load (LCP) < 2.5 seconds\n\n### Throughput\n- Handle 1000 concurrent users\n- Process 100 requests/second sustained\n\n### Resource Usage\n- Memory < 512MB under normal load\n- CPU < 70% average utilization\n- No memory leaks over 24h run\n\n### Failure Tolerance\n- Graceful degradation under 2x expected load\n- Auto-recovery within 30 seconds","start_line":1,"end_line":18}]}
{"source_id":"core","type":"contract","title":"Acceptance Criteria: UX Patterns","signals":["contract_lock"],"tags":["ux","criteria","web","accessibility"],"summary":"User experience acceptance criteria covering accessibility, responsiveness, error handling, and loading states.","chunks":[{"chunk_id":"core:ux-criteria:1","text":"## UX Acceptance Criteria\n\n### Accessibility\n- WCAG 2.1 AA compliant\n- Keyboard navigation for all actions\n- Screen reader compatible\n- Color contrast ratio >= 4.5:1\n\n### Responsiveness\n- Mobile-first design (320px minimum)\n- Tablet breakpoint at 768px\n- Desktop breakpoint at 1024px\n\n### Loading States\n- Skeleton screens for async content\n- Loading indicator within 100ms\n- Progress for operations > 3 seconds\n\n### Error Handling\n- Clear error messages in plain language\n- Actionable recovery suggestions\n- No raw exception traces to users","start_line":1,"end_line":20}]}
{"source_id":"core","type":"contract","title":"Acceptance Criteria: Error States","signals":["contract_lock"],"tags":["errors","criteria","reliability"],"summary":"Error handling acceptance criteria for graceful failures, user-friendly messages, and recovery options.","chunks":[{"chunk_id":"core:error-criteria:1","text":"## Error State Acceptance Criteria\n\n### User-Facing Errors\n- Friendly message explaining what happened\n- Suggested next steps or workarounds\n- Support contact or documentation link\n- Unique error code for support lookup\n\n### System Errors\n- Logged with full stack trace\n- Correlated with request ID\n- Alerting for error rate spikes\n- No sensitive data in error messages\n\n### Recovery\n- Retry button for transient failures\n- Auto-retry with exponential backoff\n- Preserve user input on form errors\n- Graceful fallback for non-critical features","start_line":1,"end_line":18}]}
{"source_id":"core","type":"contract","title":"Acceptance Criteria: Security","signals":["contract_lock","security_pattern"],"tags":["security","criteria","authentication"],"summary":"Security acceptance criteria covering authentication, authorization, data protection, and vulnerability scanning.","chunks":[{"chunk_id":"core:security-criteria:1","text":"## Security Acceptance Criteria\n\n### Authentication\n- Strong password policy enforced\n- MFA option available\n- Session timeout after inactivity\n- Secure token storage (httpOnly cookies)\n\n### Authorization\n- Role-based access control (RBAC)\n- Principle of least privilege\n- Permission checks on every request\n\n### Data Protection\n- TLS 1.2+ for all connections\n- Sensitive data encrypted at rest\n- PII not logged or exposed\n- GDPR/CCPA compliance if applicable\n\n### Vulnerability Management\n- No critical CVEs in dependencies\n- Regular security scanning\n- Responsible disclosure process","start_line":1,"end_line":21}]}
{"source_id":"core","type":"contract","title":"Out-of-Scope Patterns","signals":["contract_lock"],"tags":["scope","planning"],"summary":"Common patterns for defining what is explicitly out of scope to prevent scope creep during development.","chunks":[{"chunk_id":"core:out-of-scope:1","text":"## Out-of-Scope Definition Patterns\n\n### Explicit Exclusions\n- Mobile native apps (web responsive only)\n- Offline mode (online-first for v1)\n- Third-party integrations (future phase)\n- Legacy browser support (IE11, old Safari)\n- Multi-language i18n (English only for v1)\n\n### Scope Creep Prevention\n- Document all scope changes in writing\n- Require stakeholder sign-off for additions\n- Assess impact on timeline before accepting\n- Create separate tickets for future features\n\n### Boundary Markers\n- \"Not in this release\" tracking list\n- Future roadmap for deferred items\n- Clear versioning for scope (v1 vs v2)","start_line":1,"end_line":18}]}
{"source_id":"core","type":"contract","title":"Scope Creep Prevention Checklist","signals":["contract_lock"],"tags":["scope","planning","checklist"],"summary":"Checklist to identify and prevent scope creep during project development lifecycle.","chunks":[{"chunk_id":"core:scope-creep:1","text":"## Scope Creep Prevention Checklist\n\n### Before Accepting New Work\n- [ ] Is this in the original contract?\n- [ ] What is the timeline impact?\n- [ ] What existing work gets deprioritized?\n- [ ] Who approved this change?\n- [ ] Is there budget for this addition?\n\n### Red Flags\n- \"While you're at it, can you also...\"\n- \"This should be quick...\"\n- \"We forgot to mention...\"\n- Vague requirements that keep expanding\n\n### Response Strategy\n- Log the request formally\n- Provide effort estimate\n- Present trade-offs clearly\n- Defer to next phase if possible","start_line":1,"end_line":19}]}
{"source_id":"core","type":"plan","title":"Web App Implementation Plan Template","signals":["state_machine"],"tags":["web","plan","template"],"summary":"Structured implementation plan template for web application development with phases, milestones, and dependencies.","chunks":[{"chunk_id":"core:web-plan:1","text":"## Web App Implementation Plan\n\n### Phase 1: Foundation (Week 1-2)\n- [ ] Project scaffolding and tooling\n- [ ] Design system setup (colors, typography)\n- [ ] Core layout components\n- [ ] Authentication flow\n- [ ] CI/CD pipeline\n\n### Phase 2: Core Features (Week 3-4)\n- [ ] Primary user flows\n- [ ] Data models and API integration\n- [ ] Form handling and validation\n- [ ] Error boundaries and loading states\n\n### Phase 3: Polish (Week 5)\n- [ ] Responsive design refinements\n- [ ] Performance optimization\n- [ ] Accessibility audit\n- [ ] Cross-browser testing\n\n### Phase 4: Ship (Week 6)\n- [ ] Final QA pass\n- [ ] Documentation\n- [ ] Deployment and monitoring","start_line":1,"end_line":24}]}
{"source_id":"core","type":"plan","title":"API Implementation Plan Template","signals":["state_machine"],"tags":["api","plan","template","backend"],"summary":"Implementation plan template for API development covering design, implementation, testing, and deployment phases.","chunks":[{"chunk_id":"core:api-plan:1","text":"## API Implementation Plan\n\n### Phase 1: Design (Week 1)\n- [ ] OpenAPI/Swagger spec draft\n- [ ] Data model design\n- [ ] Authentication strategy\n- [ ] Rate limiting approach\n- [ ] Error response format\n\n### Phase 2: Core Implementation (Week 2-3)\n- [ ] Database schema and migrations\n- [ ] CRUD endpoints\n- [ ] Input validation\n- [ ] Business logic layer\n- [ ] Unit tests (80% coverage target)\n\n### Phase 3: Integration (Week 4)\n- [ ] External service integrations\n- [ ] Webhook handlers\n- [ ] Background job processing\n- [ ] Integration tests\n\n### Phase 4: Production Ready (Week 5)\n- [ ] Load testing\n- [ ] Security audit\n- [ ] Documentation\n- [ ] Deployment runbook","start_line":1,"end_line":26}]}
{"source_id":"core","type":"plan","title":"CLI Tool Implementation Plan Template","signals":["state_machine"],"tags":["cli","plan","template"],"summary":"Implementation plan for CLI tool development covering argument parsing, commands, cross-compilation, and distribution.","chunks":[{"chunk_id":"core:cli-plan:1","text":"## CLI Tool Implementation Plan\n\n### Phase 1: Foundation (Week 1)\n- [ ] Argument parsing setup\n- [ ] Configuration file handling\n- [ ] Logging infrastructure\n- [ ] Error handling patterns\n- [ ] Basic help and version commands\n\n### Phase 2: Core Commands (Week 2-3)\n- [ ] Primary command implementation\n- [ ] Subcommand structure\n- [ ] Interactive prompts\n- [ ] Progress indicators\n- [ ] Output formatting (JSON, table, plain)\n\n### Phase 3: Polish (Week 4)\n- [ ] Shell completions\n- [ ] Man page generation\n- [ ] Cross-platform testing\n- [ ] Performance profiling\n\n### Phase 4: Distribution (Week 5)\n- [ ] Cross-compilation setup\n- [ ] Install scripts (curl, PowerShell)\n- [ ] Release automation\n- [ ] Checksum generation","start_line":1,"end_line":26}]}
{"source_id":"core","type":"plan","title":"Test Strategy Template","signals":["iterate_loop"],"tags":["testing","plan","strategy"],"summary":"Comprehensive test strategy template covering unit, integration, e2e testing, and quality gates.","chunks":[{"chunk_id":"core:test-strategy:1","text":"## Test Strategy\n\n### Test Pyramid\n- Unit Tests (70%): Fast, isolated, mock dependencies\n- Integration Tests (20%): Real database, API contracts\n- E2E Tests (10%): Critical user journeys only\n\n### Coverage Targets\n- Overall: 80% line coverage minimum\n- Critical paths: 95% coverage\n- New code: Must not decrease coverage\n\n### Quality Gates\n- All tests pass before merge\n- No flaky tests allowed\n- Performance regression detection\n- Security scan clean\n\n### Test Environment\n- Local: SQLite, mocked externals\n- CI: Docker-based, ephemeral\n- Staging: Production-like, seeded data","start_line":1,"end_line":20}]}
{"source_id":"core","type":"plan","title":"Rollback and Safety Plan","signals":["release_install"],"tags":["rollback","safety","deployment"],"summary":"Rollback strategy template for safe deployments including triggers, procedures, and communication plans.","chunks":[{"chunk_id":"core:rollback-plan:1","text":"## Rollback and Safety Plan\n\n### Rollback Triggers\n- Error rate > 5% for 5 minutes\n- P95 latency > 2x baseline\n- Critical functionality broken\n- Security vulnerability discovered\n\n### Rollback Procedure\n1. Alert team in incident channel\n2. Revert to previous deployment\n3. Verify rollback successful\n4. Investigate root cause\n5. Document in post-mortem\n\n### Safety Measures\n- Blue-green deployments\n- Canary releases (5% → 25% → 100%)\n- Feature flags for risky changes\n- Database migration rollback scripts\n\n### Communication\n- Status page update within 5 minutes\n- Customer notification for major issues","start_line":1,"end_line":22}]}
{"source_id":"core","type":"evidence","title":"Evidence Collection Checklist","signals":["evidence_audit"],"tags":["evidence","checklist","audit"],"summary":"Comprehensive checklist for collecting evidence during development including diffs, logs, test results, and lint reports.","chunks":[{"chunk_id":"core:evidence-checklist:1","text":"## Evidence Collection Checklist\n\n### Code Changes\n- [ ] Git diff captured\n- [ ] Commit message follows convention\n- [ ] PR description complete\n- [ ] Linked to issue/ticket\n\n### Test Evidence\n- [ ] Test output captured\n- [ ] Coverage report generated\n- [ ] All tests passing\n- [ ] No skipped tests without reason\n\n### Quality Checks\n- [ ] Lint output clean (or warnings documented)\n- [ ] Format check passing\n- [ ] Type check passing\n- [ ] Security scan results\n\n### Build Artifacts\n- [ ] Build log captured\n- [ ] Binary checksums generated\n- [ ] Artifact sizes documented","start_line":1,"end_line":22}]}
{"source_id":"core","type":"evidence","title":"Git Diff Capture Best Practices","signals":["evidence_audit"],"tags":["git","diff","evidence"],"summary":"Best practices for capturing meaningful git diffs as evidence of work completed.","chunks":[{"chunk_id":"core:git-diff:1","text":"## Git Diff Capture Best Practices\n\n### What to Capture\n- Staged changes: `git diff --cached`\n- All changes: `git diff HEAD`\n- Specific files: `git diff -- path/to/file`\n- Summary stats: `git diff --stat`\n\n### Diff Formatting\n- Include file names and line numbers\n- Context of 3-5 lines around changes\n- Binary files noted but not diffed\n- Large diffs split by component\n\n### Storage\n- Save as .patch files for replay\n- Timestamp in filename\n- Compress if > 1MB\n- Link to commit SHA","start_line":1,"end_line":18}]}
{"source_id":"core","type":"audit","title":"Audit Event Schema Guidance","signals":["evidence_audit"],"tags":["audit","schema","logging"],"summary":"Guidance for designing audit event schemas with required fields, optional metadata, and privacy considerations.","chunks":[{"chunk_id":"core:audit-schema:1","text":"## Audit Event Schema\n\n### Required Fields\n- timestamp: ISO 8601 format with timezone\n- event_type: Enum of known event types\n- actor: User or system identifier\n- action: What was done (create, update, delete)\n- resource: What was affected\n- session_id: Correlation identifier\n\n### Optional Metadata\n- ip_address: For security audits\n- user_agent: Client identification\n- duration_ms: For performance tracking\n- previous_value: For change tracking\n- new_value: For change tracking (redacted if sensitive)\n\n### Privacy\n- No PII in audit logs by default\n- Redact sensitive fields\n- Retention policy defined","start_line":1,"end_line":20}]}
{"source_id":"core","type":"audit","title":"Session Naming Conventions","signals":["evidence_audit"],"tags":["session","naming","convention"],"summary":"Naming conventions for development sessions to enable clear tracking and correlation of work.","chunks":[{"chunk_id":"core:session-naming:1","text":"## Session Naming Conventions\n\n### Format\n- Pattern: {date}_{type}_{short-desc}_{id}\n- Example: 2024-01-15_feat_auth-flow_a1b2c3\n\n### Types\n- feat: New feature development\n- fix: Bug fix session\n- refactor: Code improvement\n- docs: Documentation work\n- test: Test writing session\n- build: Build/CI changes\n\n### Best Practices\n- Keep description under 20 chars\n- Use lowercase with hyphens\n- Include random suffix for uniqueness\n- Never reuse session IDs","start_line":1,"end_line":18}]}
{"source_id":"core","type":"audit","title":"Audit Log Retention Policies","signals":["evidence_audit"],"tags":["audit","retention","compliance"],"summary":"Guidelines for audit log retention periods based on compliance requirements and business needs.","chunks":[{"chunk_id":"core:audit-retention:1","text":"## Audit Log Retention Policies\n\n### Standard Retention\n- Development logs: 30 days\n- Production logs: 90 days\n- Security events: 1 year\n- Financial transactions: 7 years\n\n### Compliance Requirements\n- GDPR: Right to be forgotten considerations\n- SOC2: Minimum 1 year for security events\n- HIPAA: 6 years for healthcare data\n- PCI-DSS: 1 year minimum\n\n### Storage Strategy\n- Hot storage: Last 7 days (fast query)\n- Warm storage: 8-90 days (compressed)\n- Cold storage: 90+ days (archived)\n- Deletion: Automated after retention period","start_line":1,"end_line":18}]}
{"source_id":"core","type":"iterate","title":"Diagnose Failing Tests Playbook","signals":["iterate_loop"],"tags":["testing","debug","playbook"],"summary":"Step-by-step playbook for diagnosing and understanding failing tests before attempting fixes.","chunks":[{"chunk_id":"core:diagnose-tests:1","text":"## Diagnose Failing Tests Playbook\n\n### Step 1: Read the Error\n- Full error message and stack trace\n- Expected vs actual values\n- Which assertion failed\n\n### Step 2: Reproduce Locally\n- Run the specific test in isolation\n- Check if it's flaky (run 3x)\n- Verify test data/fixtures are correct\n\n### Step 3: Identify Root Cause\n- Is it a test bug or code bug?\n- Did recent changes break it?\n- Is it an environment issue?\n\n### Step 4: Categorize\n- Assertion failure: Logic bug\n- Timeout: Performance or async issue\n- Setup failure: Environment or fixture\n- Random failure: Flaky test or race condition","start_line":1,"end_line":20}]}
{"source_id":"core","type":"iterate","title":"Fix Strategy Ladder","signals":["iterate_loop"],"tags":["fixing","strategy","debugging"],"summary":"Graduated approach to fixing issues from quick fixes to larger refactors, with clear escalation criteria.","chunks":[{"chunk_id":"core:fix-ladder:1","text":"## Fix Strategy Ladder\n\n### Level 1: Quick Fix (< 15 min)\n- Typo or minor syntax error\n- Missing import or dependency\n- Configuration value wrong\n- Simple logic inversion\n\n### Level 2: Standard Fix (15-60 min)\n- Logic bug in single function\n- Missing edge case handling\n- Incorrect API usage\n- Test fixture needs update\n\n### Level 3: Medium Refactor (1-4 hours)\n- Multiple related bugs\n- Interface change needed\n- Better abstraction required\n- Significant test updates\n\n### Level 4: Large Refactor (> 4 hours)\n- Architectural issue\n- Create separate ticket\n- Discuss with team first\n- May need design review","start_line":1,"end_line":24}]}
{"source_id":"core","type":"iterate","title":"Max Iterations Policy","signals":["iterate_loop"],"tags":["iterate","policy","limits"],"summary":"Policy for setting maximum iteration limits in automated test-fix loops to prevent infinite cycles.","chunks":[{"chunk_id":"core:max-iterations:1","text":"## Max Iterations Policy\n\n### Recommended Limits\n- Simple lint fixes: 3 iterations\n- Unit test fixes: 5 iterations\n- Integration tests: 10 iterations\n- Full build cycle: 10 iterations\n\n### Escalation Triggers\n- Same error 3 times in a row\n- No progress after 50% of max\n- Error count increasing\n- Timeout exceeded\n\n### On Limit Reached\n1. Stop automated fixing\n2. Save current state\n3. Generate diagnostic report\n4. Flag for human review\n5. Log all attempted fixes","start_line":1,"end_line":19}]}
{"source_id":"core","type":"iterate","title":"Strict Mode Guidelines","signals":["iterate_loop"],"tags":["strict","quality","gates"],"summary":"Guidelines for strict mode in iterate loops where any failure stops the process immediately.","chunks":[{"chunk_id":"core:strict-mode:1","text":"## Strict Mode Guidelines\n\n### When to Use Strict Mode\n- Critical production fixes\n- Security-sensitive code\n- Financial calculations\n- Data migration scripts\n- Release candidates\n\n### Strict Mode Behavior\n- Fail on first error (no retry)\n- Warnings treated as errors\n- All lints must pass\n- No skipped tests allowed\n- Coverage must not decrease\n\n### When to Relax\n- Early prototyping\n- Exploratory development\n- Non-critical documentation\n- Known flaky test exclusions","start_line":1,"end_line":19}]}
{"source_id":"core","type":"iterate","title":"Test-Lint-Fix Loop Pattern","signals":["iterate_loop"],"tags":["testing","lint","automation"],"summary":"Standard pattern for automated test-lint-fix loops with ordering and failure handling.","chunks":[{"chunk_id":"core:test-lint-fix:1","text":"## Test-Lint-Fix Loop Pattern\n\n### Execution Order\n1. Format check (fastest)\n2. Lint check\n3. Type check\n4. Unit tests\n5. Integration tests (if unit passes)\n\n### On Failure\n- Capture full output\n- Parse error locations\n- Attempt targeted fix\n- Re-run failed check only\n- Success: continue to next check\n- Fail again: increment attempt counter\n\n### Exit Conditions\n- All checks pass: Success\n- Max iterations reached: Stop with report\n- Unrecoverable error: Stop immediately\n- User interrupt: Save state and exit","start_line":1,"end_line":20}]}
{"source_id":"core","type":"security","title":"Secret Redaction Rules","signals":["security_pattern"],"tags":["security","secrets","redaction"],"summary":"Rules for automatically detecting and redacting secrets from logs, diffs, and outputs.","chunks":[{"chunk_id":"core:secret-redaction:1","text":"## Secret Redaction Rules\n\n### Detection Patterns\n- API keys: sk-*, pk-*, api_key=, apikey:\n- AWS: AKIA*, aws_secret_access_key\n- GitHub: ghp_*, gho_*, github_token\n- Bearer tokens: Bearer *, Authorization: *\n- Passwords: password=, passwd:, pwd=\n- Private keys: -----BEGIN * PRIVATE KEY-----\n- Connection strings: ://user:pass@\n\n### Redaction Format\n- Replace with: [REDACTED]\n- Or: ***HIDDEN***\n- Keep type hint: [REDACTED:API_KEY]\n\n### What NOT to Redact\n- Public keys\n- Non-secret environment variables\n- Documentation examples\n- Test fixture placeholders","start_line":1,"end_line":20}]}
{"source_id":"core","type":"security","title":"Ignore and Allow Glob Patterns","signals":["security_pattern"],"tags":["security","glob","configuration"],"summary":"Guidance for configuring ignore and allow glob patterns for file operations and harvesting.","chunks":[{"chunk_id":"core:glob-patterns:1","text":"## Ignore and Allow Glob Patterns\n\n### Common Ignore Patterns\n- node_modules/**\n- .git/**\n- *.log\n- *.tmp\n- .env*\n- dist/**\n- build/**\n- coverage/**\n- *.min.js\n- vendor/**\n\n### Allow Patterns (override ignores)\n- !.env.example\n- !.github/**\n- !docs/**\n\n### Best Practices\n- Be specific, avoid ** alone\n- Test patterns before applying\n- Document unusual patterns\n- Review regularly for drift","start_line":1,"end_line":23}]}
{"source_id":"core","type":"security","title":"Safe Subprocess Execution Checklist","signals":["security_pattern"],"tags":["security","subprocess","safety"],"summary":"Checklist for safely executing subprocesses and external commands in applications.","chunks":[{"chunk_id":"core:subprocess-safety:1","text":"## Safe Subprocess Execution Checklist\n\n### Before Execution\n- [ ] Validate all input parameters\n- [ ] Avoid shell=true when possible\n- [ ] Use absolute paths for executables\n- [ ] Set explicit working directory\n- [ ] Define timeout limits\n\n### During Execution\n- [ ] Capture stdout and stderr\n- [ ] Monitor resource usage\n- [ ] Handle signals gracefully\n- [ ] Stream output for long processes\n\n### After Execution\n- [ ] Check exit code\n- [ ] Validate output format\n- [ ] Clean up temp files\n- [ ] Log execution details (redacted)\n\n### Never Do\n- Concatenate user input into commands\n- Trust subprocess output blindly\n- Ignore non-zero exit codes","start_line":1,"end_line":24}]}
{"source_id":"core","type":"security","title":"Environment Variable Security","signals":["security_pattern"],"tags":["security","environment","configuration"],"summary":"Best practices for handling environment variables securely in applications.","chunks":[{"chunk_id":"core:env-security:1","text":"## Environment Variable Security\n\n### Sensitive Variables\n- Never log or print\n- Never include in error messages\n- Never commit to source control\n- Rotate regularly\n\n### Loading Order\n1. Defaults (non-sensitive)\n2. Config files (checked in)\n3. Environment variables (override)\n4. Command-line args (highest priority)\n\n### Validation\n- Check required vars on startup\n- Fail fast if missing critical vars\n- Provide helpful error messages\n- Document all required variables\n\n### Examples\n- .env.example with placeholders\n- README with setup instructions\n- CI/CD secret management","start_line":1,"end_line":22}]}
{"source_id":"core","type":"release","title":"Release Artifact Naming Conventions","signals":["release_install"],"tags":["release","naming","distribution"],"summary":"Standard naming conventions for release artifacts to ensure clarity and prevent confusion.","chunks":[{"chunk_id":"core:artifact-naming:1","text":"## Release Artifact Naming Conventions\n\n### Binary Naming\n- Pattern: {name}-{os}-{arch}[.ext]\n- Examples:\n  - myapp-linux-x64\n  - myapp-macos-arm64\n  - myapp-windows-x64.exe\n\n### Archive Naming\n- Pattern: {name}-{version}-{os}-{arch}.{ext}\n- Examples:\n  - myapp-1.2.3-linux-x64.tar.gz\n  - myapp-1.2.3-windows-x64.zip\n\n### OS Values\n- linux, darwin/macos, windows\n\n### Arch Values\n- x64/x86_64, arm64/aarch64\n- Prefer shorter forms for filenames","start_line":1,"end_line":20}]}
{"source_id":"core","type":"release","title":"Checksum Verification Patterns","signals":["release_install"],"tags":["release","checksum","security"],"summary":"Patterns for generating and verifying checksums in release workflows.","chunks":[{"chunk_id":"core:checksum-patterns:1","text":"## Checksum Verification Patterns\n\n### Generation\n- SHA256 for all release binaries\n- One line per file: {hash}  {filename}\n- File: checksums.txt or SHA256SUMS\n\n### Verification (Unix)\n```\ncurl -LO release.tar.gz\ncurl -LO checksums.txt\nsha256sum -c checksums.txt\n```\n\n### Verification (Windows)\n```powershell\n$hash = (Get-FileHash release.zip).Hash\n$expected = (Get-Content checksums.txt | Select-String release.zip)\nif ($hash -ne $expected) { throw \"Mismatch\" }\n```\n\n### Best Practices\n- Sign checksums file with GPG\n- Include in release notes\n- Automate in CI/CD","start_line":1,"end_line":24}]}
{"source_id":"core","type":"release","title":"Self-Update Safety Patterns","signals":["release_install"],"tags":["release","update","safety"],"summary":"Safety patterns for implementing self-update functionality in CLI tools.","chunks":[{"chunk_id":"core:self-update:1","text":"## Self-Update Safety Patterns\n\n### Pre-Update Checks\n- Verify version is actually newer\n- Check disk space available\n- Validate download URL domain\n- Verify checksum before replacing\n\n### Update Process\n1. Download to temp location\n2. Verify checksum\n3. Backup current binary\n4. Atomic replace (rename)\n5. Verify new binary runs\n6. Clean up temp files\n\n### Rollback Strategy\n- Keep .bak of previous version\n- Auto-rollback if new version fails\n- Provide manual rollback command\n\n### Platform Notes\n- Windows: Can't replace running exe directly\n- Unix: Can replace, but restart required","start_line":1,"end_line":22}]}
{"source_id":"core","type":"release","title":"Install Script Best Practices","signals":["release_install"],"tags":["release","install","distribution"],"summary":"Best practices for creating reliable cross-platform install scripts.","chunks":[{"chunk_id":"core:install-scripts:1","text":"## Install Script Best Practices\n\n### Unix (curl | bash)\n- Detect OS and architecture\n- Verify curl/wget available\n- Download to temp first\n- Verify checksum\n- Install to ~/.local/bin or /usr/local/bin\n- Prompt for sudo if needed\n- Update PATH instructions\n\n### Windows (PowerShell)\n- Use Invoke-RestMethod for download\n- Detect architecture (x64/arm64)\n- Install to ~\\.local\\bin\n- Use native Write-Host for colors\n- Add to PATH guidance\n\n### Both Platforms\n- Fail loudly on errors\n- Provide uninstall instructions\n- Show version after install\n- Support --version flag immediately","start_line":1,"end_line":21}]}
{"source_id":"core","type":"template","title":"Changelog Entry Format","signals":["release_install"],"tags":["changelog","release","documentation"],"summary":"Standard format for changelog entries following Keep a Changelog conventions.","chunks":[{"chunk_id":"core:changelog-format:1","text":"## Changelog Entry Format\n\n### Structure\n- Group by version (newest first)\n- Date in ISO format (YYYY-MM-DD)\n- Categories: Added, Changed, Deprecated, Removed, Fixed, Security\n\n### Example\n```markdown\n## [1.2.0] - 2024-01-15\n\n### Added\n- New `brain search` command for semantic search\n- Core BrainPack shipped with CLI\n\n### Fixed\n- PowerShell color rendering on Windows\n- Memory leak in harvest command\n\n### Security\n- Updated dependencies to fix CVE-2024-XXXX\n```\n\n### Best Practices\n- Use imperative mood (Add, Fix, not Added, Fixed)\n- Link to issues/PRs\n- No internal jargon","start_line":1,"end_line":25}]}
{"source_id":"core","type":"template","title":"PR Description Template","signals":["evidence_audit"],"tags":["template","pr","documentation"],"summary":"Pull request description template for clear communication of changes.","chunks":[{"chunk_id":"core:pr-template:1","text":"## Pull Request Description Template\n\n### What\n[One paragraph describing the change]\n\n### Why\n[Business or technical reason for the change]\n\n### How\n[Brief technical approach taken]\n\n### Testing\n- [ ] Unit tests added/updated\n- [ ] Integration tests pass\n- [ ] Manual testing completed\n\n### Checklist\n- [ ] Code follows style guidelines\n- [ ] Documentation updated\n- [ ] No breaking changes (or documented)\n- [ ] Reviewed by: @teammate\n\n### Screenshots\n[If UI changes, include before/after]","start_line":1,"end_line":22}]}
{"source_id":"core","type":"template","title":"Bug Report Template","signals":["evidence_audit"],"tags":["template","bug","documentation"],"summary":"Template for filing clear and actionable bug reports.","chunks":[{"chunk_id":"core:bug-template:1","text":"## Bug Report Template\n\n### Description\n[Clear, concise description of the bug]\n\n### Steps to Reproduce\n1. [First step]\n2. [Second step]\n3. [Third step]\n\n### Expected Behavior\n[What should happen]\n\n### Actual Behavior\n[What actually happens]\n\n### Environment\n- OS: [e.g., Windows 11, macOS 14]\n- Version: [e.g., v1.2.3]\n- Shell: [e.g., PowerShell 7, bash 5]\n\n### Additional Context\n- Screenshots if applicable\n- Error logs (redacted)\n- Related issues","start_line":1,"end_line":24}]}
{"source_id":"core","type":"plan","title":"Code Review Checklist","signals":["evidence_audit"],"tags":["review","checklist","quality"],"summary":"Comprehensive code review checklist covering functionality, code quality, testing, and security.","chunks":[{"chunk_id":"core:review-checklist:1","text":"## Code Review Checklist\n\n### Functionality\n- [ ] Code does what it claims to do\n- [ ] Edge cases handled\n- [ ] Error handling appropriate\n- [ ] No obvious logic bugs\n\n### Code Quality\n- [ ] Clear naming for variables/functions\n- [ ] No unnecessary complexity\n- [ ] DRY principle followed\n- [ ] Comments explain \"why\" not \"what\"\n\n### Testing\n- [ ] Tests cover new functionality\n- [ ] Tests are readable and maintainable\n- [ ] No flaky tests introduced\n- [ ] Edge cases tested\n\n### Security\n- [ ] No secrets in code\n- [ ] Input validation present\n- [ ] No SQL injection vectors\n- [ ] Dependencies checked for CVEs","start_line":1,"end_line":24}]}
{"source_id":"core","type":"iterate","title":"Common Lint Errors and Fixes","signals":["iterate_loop"],"tags":["lint","errors","fixing"],"summary":"Common lint errors encountered during development and their typical fixes.","chunks":[{"chunk_id":"core:lint-fixes:1","text":"## Common Lint Errors and Fixes\n\n### Unused Variables\n- Error: Variable defined but never used\n- Fix: Remove or prefix with underscore (_unused)\n\n### Missing Return Type\n- Error: Function missing explicit return type\n- Fix: Add return type annotation\n\n### Unused Imports\n- Error: Import not used in file\n- Fix: Remove unused import statements\n\n### Line Too Long\n- Error: Line exceeds maximum length\n- Fix: Break into multiple lines, extract variable\n\n### Mixed Indentation\n- Error: Tabs and spaces mixed\n- Fix: Use consistent indentation (prefer spaces)","start_line":1,"end_line":20}]}
{"source_id":"core","type":"iterate","title":"Build Error Resolution Guide","signals":["iterate_loop"],"tags":["build","errors","debugging"],"summary":"Guide for resolving common build errors across different build systems.","chunks":[{"chunk_id":"core:build-errors:1","text":"## Build Error Resolution Guide\n\n### Missing Dependency\n- Error: Cannot find module/crate\n- Fix: Add to package.json/Cargo.toml, run install\n\n### Version Mismatch\n- Error: Incompatible versions\n- Fix: Check lock file, update or pin versions\n\n### Type Error\n- Error: Type mismatch or missing\n- Fix: Correct type annotations, add conversions\n\n### Linking Error\n- Error: Undefined symbol\n- Fix: Check feature flags, add missing native deps\n\n### Out of Memory\n- Error: Build killed/OOM\n- Fix: Increase memory, use incremental builds","start_line":1,"end_line":20}]}
{"source_id":"core","type":"contract","title":"Definition of Done","signals":["contract_lock"],"tags":["criteria","done","checklist"],"summary":"Standard definition of done checklist for completing work items.","chunks":[{"chunk_id":"core:definition-done:1","text":"## Definition of Done\n\n### Code Complete\n- [ ] All acceptance criteria met\n- [ ] Code reviewed and approved\n- [ ] Tests written and passing\n- [ ] No known bugs introduced\n\n### Quality Complete\n- [ ] Lint and format checks pass\n- [ ] Coverage target maintained\n- [ ] No new security warnings\n- [ ] Performance within bounds\n\n### Documentation Complete\n- [ ] Code comments updated\n- [ ] README updated if needed\n- [ ] Changelog entry added\n- [ ] API docs regenerated\n\n### Deployment Ready\n- [ ] Merged to main branch\n- [ ] CI/CD pipeline green\n- [ ] Ready for release","start_line":1,"end_line":24}]}
{"source_id":"core","type":"contract","title":"MOSCOW Prioritization Guide","signals":["contract_lock"],"tags":["prioritization","planning","requirements"],"summary":"Guide for using MOSCOW method to prioritize requirements in contracts.","chunks":[{"chunk_id":"core:moscow-guide:1","text":"## MOSCOW Prioritization\n\n### MUST Have\n- Critical for delivery\n- System won't work without\n- Cannot workaround\n- Legal/compliance requirement\n\n### SHOULD Have\n- Important but not critical\n- Workaround exists\n- Expected by users\n- Significant value add\n\n### COULD Have\n- Nice to have\n- Low impact if missing\n- Can defer to later phase\n\n### WON'T Have (this time)\n- Explicitly excluded\n- Deferred to future scope\n- Document why excluded","start_line":1,"end_line":22}]}
{"source_id":"core","type":"evidence","title":"Test Output Capture Standards","signals":["evidence_audit"],"tags":["testing","output","evidence"],"summary":"Standards for capturing and preserving test output as evidence.","chunks":[{"chunk_id":"core:test-output:1","text":"## Test Output Capture Standards\n\n### What to Capture\n- Full stdout and stderr\n- Exit code\n- Duration of each test\n- Memory usage (if monitoring)\n- Timestamp of run\n\n### Output Format\n- Plain text for logs\n- JSON for machine processing\n- JUnit XML for CI integration\n\n### Storage\n- Session directory with timestamp\n- Compress after 24 hours\n- Retain for audit period\n- Include in evidence bundle","start_line":1,"end_line":18}]}
{"source_id":"core","type":"security","title":"CORS Configuration Patterns","signals":["security_pattern"],"tags":["security","cors","web"],"summary":"Cross-Origin Resource Sharing configuration patterns for web APIs.","chunks":[{"chunk_id":"core:cors-patterns:1","text":"## CORS Configuration Patterns\n\n### Restrictive (Recommended)\n- Allow-Origin: Specific domains only\n- Allow-Methods: Only needed methods\n- Allow-Headers: Specific required headers\n- Max-Age: Cache preflight for 24h\n\n### Permissive (Development Only)\n- Allow-Origin: *\n- Allow-Credentials: false (required with *)\n- Never use in production\n\n### Best Practices\n- Validate Origin header server-side\n- Don't trust only client validation\n- List allowed origins explicitly\n- Audit CORS config regularly","start_line":1,"end_line":17}]}
{"source_id":"core","type":"security","title":"Input Validation Patterns","signals":["security_pattern"],"tags":["security","validation","input"],"summary":"Common input validation patterns to prevent security vulnerabilities.","chunks":[{"chunk_id":"core:input-validation:1","text":"## Input Validation Patterns\n\n### String Inputs\n- Max length check\n- Allowed characters whitelist\n- Trim whitespace\n- Normalize unicode\n\n### Numeric Inputs\n- Range validation\n- Type coercion safety\n- Overflow prevention\n\n### File Inputs\n- Extension whitelist\n- MIME type validation\n- Max size limit\n- Virus scanning for uploads\n\n### URL Inputs\n- Protocol whitelist (https only)\n- Domain validation\n- Path traversal prevention\n- No localhost/internal IPs","start_line":1,"end_line":23}]}
{"source_id":"core","type":"template","title":"Post-Mortem Template","signals":["evidence_audit"],"tags":["template","incident","retrospective"],"summary":"Template for documenting and learning from production incidents.","chunks":[{"chunk_id":"core:postmortem-template:1","text":"## Post-Mortem Template\n\n### Incident Summary\n- Date/Time: [When it happened]\n- Duration: [How long]\n- Impact: [What was affected]\n- Severity: [P1/P2/P3/P4]\n\n### Timeline\n- [HH:MM] First alert triggered\n- [HH:MM] Team notified\n- [HH:MM] Root cause identified\n- [HH:MM] Mitigation applied\n- [HH:MM] Fully resolved\n\n### Root Cause\n[What actually caused the incident]\n\n### Action Items\n- [ ] Immediate fix\n- [ ] Preventive measures\n- [ ] Monitoring improvements\n- [ ] Documentation updates\n\n### Lessons Learned\n[What we learned, no blame]","start_line":1,"end_line":25}]}
{"source_id":"core","type":"plan","title":"Sprint Planning Template","signals":["state_machine"],"tags":["planning","sprint","agile"],"summary":"Template for sprint planning with capacity, goals, and commitment tracking.","chunks":[{"chunk_id":"core:sprint-template:1","text":"## Sprint Planning Template\n\n### Sprint Overview\n- Sprint: [Number]\n- Dates: [Start] to [End]\n- Capacity: [Story points available]\n\n### Sprint Goal\n[One clear, measurable goal]\n\n### Committed Items\n| ID | Title | Points | Owner |\n|----|-------|--------|-------|\n| T-1 | Feature X | 5 | @dev |\n| T-2 | Bug fix Y | 2 | @dev |\n\n### Stretch Goals\n[Items to pick up if time permits]\n\n### Dependencies\n- [External team/service dependencies]\n\n### Risks\n- [Known risks and mitigation]","start_line":1,"end_line":23}]}
{"source_id":"core","type":"iterate","title":"Performance Debugging Playbook","signals":["iterate_loop"],"tags":["performance","debugging","profiling"],"summary":"Playbook for diagnosing and fixing performance issues.","chunks":[{"chunk_id":"core:perf-debug:1","text":"## Performance Debugging Playbook\n\n### Step 1: Quantify\n- Measure current baseline\n- Define target improvement\n- Identify bottleneck metric (CPU, memory, I/O)\n\n### Step 2: Profile\n- Use profiler for CPU-bound\n- Memory analyzer for leaks\n- Trace for I/O-bound\n- Flame graphs for visualization\n\n### Step 3: Analyze\n- Find hotspots (top 20%)\n- Look for N+1 queries\n- Check cache hit rates\n- Review algorithm complexity\n\n### Step 4: Fix\n- Optimize hot paths first\n- Add caching where beneficial\n- Batch database queries\n- Lazy load where possible","start_line":1,"end_line":22}]}
{"source_id":"core","type":"evidence","title":"Coverage Report Interpretation","signals":["evidence_audit","iterate_loop"],"tags":["testing","coverage","metrics"],"summary":"How to interpret and act on code coverage reports.","chunks":[{"chunk_id":"core:coverage-interpret:1","text":"## Coverage Report Interpretation\n\n### Metrics Explained\n- Line coverage: % of lines executed\n- Branch coverage: % of decision paths\n- Function coverage: % of functions called\n\n### Healthy Targets\n- 80% overall is good baseline\n- 95% for critical paths\n- 100% for security-sensitive code\n\n### What to Ignore\n- Generated code\n- Vendor/third-party code\n- Unreachable error handlers\n- Deprecated code paths\n\n### Red Flags\n- Coverage drops on PR\n- Critical code uncovered\n- Tests exist but coverage low (assertions missing)","start_line":1,"end_line":20}]}
{"source_id":"core","type":"release","title":"Semantic Versioning Guide","signals":["release_install"],"tags":["versioning","release","semver"],"summary":"Guide to semantic versioning for release management.","chunks":[{"chunk_id":"core:semver-guide:1","text":"## Semantic Versioning Guide\n\n### Version Format: MAJOR.MINOR.PATCH\n\n### MAJOR (breaking)\n- Remove public API\n- Change behavior incompatibly\n- Major dependency update\n\n### MINOR (feature)\n- Add new capability\n- Deprecate (not remove) API\n- Backward-compatible changes\n\n### PATCH (fix)\n- Bug fixes\n- Security patches\n- Documentation updates\n- Performance improvements\n\n### Pre-release\n- Alpha: 1.0.0-alpha.1 (unstable)\n- Beta: 1.0.0-beta.1 (feature complete)\n- RC: 1.0.0-rc.1 (release candidate)","start_line":1,"end_line":22}]}
{"source_id":"core","type":"plan","title":"Technical Debt Tracking","signals":["state_machine"],"tags":["planning","debt","maintenance"],"summary":"Framework for identifying, prioritizing, and addressing technical debt.","chunks":[{"chunk_id":"core:tech-debt:1","text":"## Technical Debt Tracking\n\n### Categories\n- Code debt: Hacks, workarounds, copy-paste\n- Design debt: Poor abstractions, missing patterns\n- Test debt: Missing coverage, flaky tests\n- Dependency debt: Outdated packages, vulnerabilities\n- Documentation debt: Outdated docs, missing examples\n\n### Prioritization\n- Pain level (1-5): How much it hurts development\n- Effort (1-5): How much work to fix\n- Risk (1-5): Consequences if not addressed\n- Priority = Pain × Risk / Effort\n\n### Tracking\n- Tag tickets with tech-debt label\n- Allocate 20% sprint capacity\n- Track debt reduction over time\n- Celebrate debt paydown","start_line":1,"end_line":19}]}
{"source_id":"core","type":"security","title":"Dependency Scanning Patterns","signals":["security_pattern"],"tags":["security","dependencies","scanning"],"summary":"Patterns for scanning and managing dependency vulnerabilities.","chunks":[{"chunk_id":"core:dep-scanning:1","text":"## Dependency Scanning Patterns\n\n### Scan Frequency\n- On every PR (blocking)\n- Daily for main branch\n- Weekly full audit\n\n### Severity Handling\n- Critical: Block merge, fix immediately\n- High: Fix within 48 hours\n- Medium: Fix within 1 week\n- Low: Track, fix when convenient\n\n### Safe Update Strategy\n1. Review changelog\n2. Check for breaking changes\n3. Run test suite\n4. Deploy to staging first\n5. Monitor for issues\n\n### Tools\n- Native: npm audit, cargo audit\n- Dedicated: Dependabot, Snyk, Renovate","start_line":1,"end_line":21}]}
{"source_id":"core","type":"contract","title":"API Versioning Strategy","signals":["contract_lock"],"tags":["api","versioning","contract"],"summary":"Strategies for versioning APIs to maintain backward compatibility.","chunks":[{"chunk_id":"core:api-versioning:1","text":"## API Versioning Strategy\n\n### Methods\n- URL path: /api/v1/resource (recommended)\n- Header: Accept-Version: v1\n- Query param: ?version=1 (not recommended)\n\n### When to Version\n- Breaking response format change\n- Removing fields or endpoints\n- Changing authentication method\n- Incompatible behavior change\n\n### Deprecation Process\n1. Announce deprecation (90 days notice)\n2. Add Deprecation header\n3. Log usage of deprecated endpoints\n4. Notify active users directly\n5. Remove after notice period\n\n### Best Practices\n- Support N and N-1 versions\n- Clear migration guides\n- Sunset dates documented","start_line":1,"end_line":22}]}
{"source_id":"core","type":"template","title":"README Structure Template","signals":["evidence_audit"],"tags":["template","readme","documentation"],"summary":"Standard structure for project README files.","chunks":[{"chunk_id":"core:readme-template:1","text":"## README Structure Template\n\n### Essential Sections\n1. Title and badges\n2. One-line description\n3. Quick install command\n4. Minimal usage example\n5. Link to full documentation\n\n### Recommended Sections\n- Features list\n- Requirements/Prerequisites\n- Configuration options\n- Contributing guidelines\n- License information\n- Support channels\n\n### Best Practices\n- Keep main README concise\n- Link to detailed docs\n- Update with each release\n- Include screenshots for UI","start_line":1,"end_line":20}]}
{"source_id":"core","type":"provider","title":"AI Provider Adapter Pattern","signals":["provider_adapter"],"tags":["ai","provider","adapter","pattern"],"summary":"Pattern for creating abstracted AI provider adapters that can switch between different LLM backends.","chunks":[{"chunk_id":"core:provider-adapter:1","text":"## AI Provider Adapter Pattern\n\n### Interface Design\n- Define common interface/trait for all providers\n- Methods: send_prompt, stream_response, get_capabilities\n- Return unified response format\n\n### Implementation\n- Factory pattern for provider instantiation\n- Configuration-driven provider selection\n- Graceful fallback on provider failure\n\n### Example Providers\n- Claude (Anthropic)\n- GPT (OpenAI)\n- Local LLMs (Ollama)\n- Mock provider (testing)\n\n### Configuration\n- Environment variable for default\n- CLI flag override: --provider\n- Provider-specific settings in config","start_line":1,"end_line":20}]}
{"source_id":"core","type":"provider","title":"Provider Registry Pattern","signals":["provider_adapter"],"tags":["registry","plugin","extensibility"],"summary":"Registry pattern for dynamically registering and discovering providers.","chunks":[{"chunk_id":"core:provider-registry:1","text":"## Provider Registry Pattern\n\n### Purpose\n- Central catalog of available providers\n- Dynamic discovery and registration\n- Lazy initialization on first use\n\n### Implementation\n- Global HashMap/registry of provider factories\n- Register at startup or via plugins\n- Lookup by name: registry.get(\"claude\")\n\n### Best Practices\n- Default provider in registry\n- Clear error on unknown provider\n- List available providers in help\n- Log provider selection at startup","start_line":1,"end_line":16}]}
{"source_id":"core","type":"provider","title":"Provider Response Streaming","signals":["provider_adapter"],"tags":["streaming","async","response"],"summary":"Patterns for streaming responses from AI providers in real-time.","chunks":[{"chunk_id":"core:provider-streaming:1","text":"## Provider Response Streaming\n\n### Why Stream\n- Better perceived latency\n- User feedback during generation\n- Early termination option\n- Memory efficiency for long outputs\n\n### Implementation\n- Async iterator/stream pattern\n- Chunk-by-chunk processing\n- Progress indicator during stream\n- Buffer for partial tokens\n\n### Error Handling\n- Timeout per chunk, not total\n- Reconnect on stream break\n- Save partial output on error\n- Clear termination signals","start_line":1,"end_line":18}]}
{"source_id":"core","type":"provider","title":"Provider Rate Limiting","signals":["provider_adapter","security_pattern"],"tags":["rate-limit","throttling","api"],"summary":"Client-side rate limiting patterns for API providers.","chunks":[{"chunk_id":"core:provider-ratelimit:1","text":"## Provider Rate Limiting\n\n### Client-Side Throttling\n- Track requests per minute\n- Queue requests when near limit\n- Exponential backoff on 429\n\n### Implementation\n- Token bucket algorithm\n- Sliding window counter\n- Priority queue for requests\n\n### Best Practices\n- Respect Retry-After header\n- Log rate limit events\n- Fallback to secondary provider\n- User notification on wait","start_line":1,"end_line":16}]}
{"source_id":"core","type":"cli","title":"Rust CLI Argument Parsing (Clap)","signals":["command_surface"],"tags":["rust","cli","clap","arguments"],"summary":"Best practices for argument parsing in Rust CLIs using derive macros.","chunks":[{"chunk_id":"core:rust-clap:1","text":"## Rust CLI with Clap\n\n### Derive Pattern\n- #[derive(Parser)] for main struct\n- #[derive(Subcommand)] for commands\n- #[derive(ValueEnum)] for enums\n\n### Field Attributes\n- #[arg(short, long)] for flags\n- #[arg(default_value)] for defaults\n- #[arg(value_enum)] for choices\n- #[command(subcommand)] for nested\n\n### Best Practices\n- Short and long flags for common options\n- Sensible defaults reduce required args\n- Help strings with #[arg(help = ...)]\n- Examples in about text","start_line":1,"end_line":18}]}
{"source_id":"core","type":"cli","title":"Go CLI with Cobra","signals":["command_surface"],"tags":["go","cli","cobra","arguments"],"summary":"Patterns for building CLI tools in Go using Cobra framework.","chunks":[{"chunk_id":"core:go-cobra:1","text":"## Go CLI with Cobra\n\n### Structure\n- cmd/ package for command files\n- Root command with PersistentFlags\n- Subcommands added via AddCommand\n\n### Flags\n- StringVar for string flags\n- BoolP for boolean with short\n- Viper integration for config\n\n### Best Practices\n- PreRun for validation\n- RunE to return errors\n- SilenceUsage for clean errors\n- Completions for shell support","start_line":1,"end_line":16}]}
{"source_id":"core","type":"cli","title":"Node CLI with Commander","signals":["command_surface"],"tags":["node","cli","commander","javascript"],"summary":"Patterns for building CLI tools in Node.js using Commander.","chunks":[{"chunk_id":"core:node-commander:1","text":"## Node CLI with Commander\n\n### Setup\n- program.name().description().version()\n- program.command() for subcommands\n- .option() for flags\n- .argument() for positional\n\n### Patterns\n- Async action handlers\n- Error handling with try/catch\n- process.exit for status codes\n- chalk/colors for output\n\n### Distribution\n- bin field in package.json\n- Shebang: #!/usr/bin/env node\n- npm link for local testing","start_line":1,"end_line":17}]}
{"source_id":"core","type":"cli","title":"CLI Output Formatting","signals":["command_surface"],"tags":["cli","output","formatting","colors"],"summary":"Patterns for formatting CLI output including colors, tables, and progress.","chunks":[{"chunk_id":"core:cli-output:1","text":"## CLI Output Formatting\n\n### Color Usage\n- Green: success, completion\n- Yellow: warnings, caution\n- Red: errors, failures\n- Cyan: info, progress\n- Dim: secondary information\n\n### Structured Output\n- Tables for lists/comparisons\n- JSON with --json flag\n- Progress bars for long ops\n- Spinners for indeterminate\n\n### Best Practices\n- Respect NO_COLOR env var\n- TTY detection for colors\n- Quiet mode (--quiet)\n- Verbose mode (-v, -vv)","start_line":1,"end_line":19}]}
{"source_id":"core","type":"cli","title":"CLI Exit Codes","signals":["command_surface"],"tags":["cli","exit-codes","errors"],"summary":"Standard exit code conventions for CLI tools.","chunks":[{"chunk_id":"core:cli-exitcodes:1","text":"## CLI Exit Codes\n\n### Standard Codes\n- 0: Success\n- 1: General error\n- 2: Invalid usage/arguments\n- 3: Configuration error\n- 4: Resource not found\n- 126: Permission denied\n- 127: Command not found\n\n### Best Practices\n- Document exit codes in help\n- Consistent across commands\n- Non-zero = failed\n- Scripts rely on exit codes","start_line":1,"end_line":16}]}
{"source_id":"core","type":"cli","title":"CLI Configuration Hierarchy","signals":["command_surface"],"tags":["cli","config","hierarchy"],"summary":"Configuration precedence patterns for CLI tools.","chunks":[{"chunk_id":"core:cli-config:1","text":"## CLI Configuration Hierarchy\n\n### Precedence (high to low)\n1. Command-line flags\n2. Environment variables\n3. Local config (./.toolrc)\n4. User config (~/.config/tool)\n5. System config (/etc/tool)\n6. Built-in defaults\n\n### Implementation\n- Layer configs, override in order\n- Clear provenance logging\n- --config to specify file\n- --no-config to skip files\n\n### Validation\n- Validate combined config\n- Report which source won\n- Fail fast on conflicts","start_line":1,"end_line":19}]}
{"source_id":"core","type":"cli","title":"Interactive Prompts","signals":["command_surface"],"tags":["cli","interactive","prompts"],"summary":"Patterns for interactive CLI prompts and wizards.","chunks":[{"chunk_id":"core:cli-prompts:1","text":"## Interactive Prompts\n\n### Prompt Types\n- Text input: single line\n- Password: hidden input\n- Confirm: yes/no\n- Select: choose from list\n- Multi-select: checkboxes\n\n### Best Practices\n- Default values for quick accept\n- Validation with helpful errors\n- Non-interactive fallback (--yes)\n- CI detection: skip prompts\n\n### UX\n- Clear prompts explain what's needed\n- Allow going back in wizards\n- Summary before final action","start_line":1,"end_line":18}]}
{"source_id":"core","type":"security","title":"Token Storage Best Practices","signals":["security_pattern"],"tags":["security","tokens","storage"],"summary":"Secure patterns for storing authentication tokens in CLI tools.","chunks":[{"chunk_id":"core:token-storage:1","text":"## Token Storage Best Practices\n\n### Secure Options (Preferred)\n- System keychain (keyring crate)\n- OS credential store\n- Encrypted config file\n\n### Fallback Options\n- File with 600 permissions\n- Environment variable (session only)\n- Never in command history\n\n### Implementation\n- Prompt for token if missing\n- Validate token on storage\n- Clear token on logout\n- Rotate token periodically","start_line":1,"end_line":17}]}
{"source_id":"core","type":"security","title":"Command Injection Prevention","signals":["security_pattern"],"tags":["security","injection","commands"],"summary":"Patterns to prevent command injection vulnerabilities.","chunks":[{"chunk_id":"core:cmd-injection:1","text":"## Command Injection Prevention\n\n### Never Do\n- shell=true with user input\n- String concatenation for commands\n- eval() on external input\n\n### Safe Patterns\n- Array of arguments (no shell)\n- Allowlist valid inputs\n- Escape special characters\n- Validate before execution\n\n### Example (safe)\n- Command::new(\"git\").arg(\"clone\").arg(url)\n- Not: format!(\"git clone {}\", url)","start_line":1,"end_line":16}]}
{"source_id":"core","type":"security","title":"Path Traversal Prevention","signals":["security_pattern"],"tags":["security","path","traversal"],"summary":"Preventing path traversal attacks in file operations.","chunks":[{"chunk_id":"core:path-traversal:1","text":"## Path Traversal Prevention\n\n### Attack Patterns\n- ../../../etc/passwd\n- Encoded: %2e%2e%2f\n- Null bytes: file.txt\\0.jpg\n\n### Defenses\n- Canonicalize paths\n- Check starts_with(allowed_root)\n- Reject .. components\n- Normalize before comparison\n\n### Implementation\n- PathBuf::canonicalize()\n- path.starts_with(&base_dir)\n- Reject absolute paths when relative expected","start_line":1,"end_line":16}]}
{"source_id":"core","type":"release","title":"Binary Stripping Best Practices","signals":["release_install"],"tags":["release","binary","optimization"],"summary":"Reducing binary size for release distributions.","chunks":[{"chunk_id":"core:binary-strip:1","text":"## Binary Stripping\n\n### Rust Release Optimization\n- strip = true in Cargo.toml\n- lto = true for link-time opt\n- opt-level = \"z\" for size\n- panic = \"abort\" (no unwinding)\n\n### Post-Build\n- strip --strip-all binary\n- UPX compression (optional)\n\n### Size Targets\n- CLI tools: < 10MB ideal\n- Plugins: < 5MB\n- WASM: < 1MB","start_line":1,"end_line":15}]}
{"source_id":"core","type":"release","title":"GitHub Actions Release Workflow","signals":["release_install"],"tags":["release","github-actions","ci"],"summary":"Pattern for automated releases via GitHub Actions.","chunks":[{"chunk_id":"core:gh-release-workflow:1","text":"## GitHub Actions Release Workflow\n\n### Trigger\n- on: push: tags: [\"v*.*.*\"]\n- Creates release on tag push\n\n### Jobs\n1. Build matrix: [linux, macos, windows] x [x64, arm64]\n2. Create checksums\n3. Create GitHub release\n4. Upload assets\n\n### Best Practices\n- Matrix for cross-compile\n- Artifact upload between jobs\n- Release notes from changelog\n- Draft release first, publish after verify","start_line":1,"end_line":17}]}
{"source_id":"core","type":"release","title":"Release Changelog Generation","signals":["release_install"],"tags":["release","changelog","automation"],"summary":"Automated changelog generation from commit history.","chunks":[{"chunk_id":"core:changelog-gen:1","text":"## Changelog Generation\n\n### Conventional Commits\n- feat: → Added section\n- fix: → Fixed section\n- docs: → Documentation\n- BREAKING CHANGE: → highlighted\n\n### Tools\n- git-cliff (Rust)\n- conventional-changelog (Node)\n- github-changelog-generator\n\n### Best Practices\n- Generate from tags\n- Include PR links\n- Categorize by type\n- Highlight breaking changes","start_line":1,"end_line":17}]}
{"source_id":"core","type":"template","title":"GitHub Issue Templates","signals":["evidence_audit"],"tags":["template","github","issues"],"summary":"Templates for GitHub issue forms to gather structured information.","chunks":[{"chunk_id":"core:issue-templates:1","text":"## GitHub Issue Templates\n\n### Bug Report Template\n- Description: What happened?\n- Steps to reproduce: 1, 2, 3\n- Expected vs actual behavior\n- Environment: OS, version, shell\n- Screenshots/logs if applicable\n\n### Feature Request Template\n- Problem to solve\n- Proposed solution\n- Alternatives considered\n- Additional context\n\n### Location\n- .github/ISSUE_TEMPLATE/\n- bug_report.yml\n- feature_request.yml","start_line":1,"end_line":18}]}
{"source_id":"core","type":"template","title":"Pull Request Template","signals":["evidence_audit"],"tags":["template","github","pr"],"summary":"Template for consistent pull request descriptions.","chunks":[{"chunk_id":"core:pr-template-file:1","text":"## Pull Request Template\n\n### Location\n- .github/PULL_REQUEST_TEMPLATE.md\n\n### Sections\n- What: Brief description of changes\n- Why: Reason/motivation for change\n- How: Technical approach taken\n- Testing: How this was tested\n- Checklist: Standard checks\n\n### Checklist Items\n- [ ] Tests added/updated\n- [ ] Docs updated\n- [ ] Changelog entry\n- [ ] Breaking changes noted","start_line":1,"end_line":17}]}
{"source_id":"core","type":"iterate","title":"Flaky Test Detection","signals":["iterate_loop"],"tags":["testing","flaky","detection"],"summary":"Patterns for detecting and handling flaky tests.","chunks":[{"chunk_id":"core:flaky-tests:1","text":"## Flaky Test Detection\n\n### Indicators\n- Passes locally, fails in CI\n- Fails intermittently\n- Order-dependent results\n- Time-sensitive assertions\n\n### Detection Strategy\n- Run test N times (e.g., 10x)\n- Different orders each run\n- Track historical pass rate\n- Flag tests with < 100% rate\n\n### Remediation\n- Fix root cause if possible\n- Quarantine while fixing\n- Add retry with backoff\n- Mark with skip reason","start_line":1,"end_line":18}]}
{"source_id":"core","type":"iterate","title":"Test Fixture Management","signals":["iterate_loop"],"tags":["testing","fixtures","data"],"summary":"Patterns for managing test fixtures and data.","chunks":[{"chunk_id":"core:test-fixtures:1","text":"## Test Fixture Management\n\n### Types\n- Static: JSON/YAML files in tests/\n- Generated: Created per test\n- Shared: Setup once, use many\n- Database: Seeded schemas\n\n### Best Practices\n- Isolate tests with unique fixtures\n- Clean up after tests\n- Version fixtures with code\n- Document fixture schema\n\n### Naming\n- test_data/scenario_name.json\n- fixtures/valid_user.json\n- mocks/api_response.json","start_line":1,"end_line":17}]}
{"source_id":"core","type":"iterate","title":"Test Timeout Configuration","signals":["iterate_loop"],"tags":["testing","timeout","configuration"],"summary":"Configuring appropriate timeouts for different test types.","chunks":[{"chunk_id":"core:test-timeouts:1","text":"## Test Timeout Configuration\n\n### Guidelines by Type\n- Unit tests: 100ms - 1s\n- Integration tests: 5-30s\n- E2E tests: 30s - 2min\n- Performance tests: as needed\n\n### Configuration\n- Default timeout per suite\n- Override per test annotation\n- Environment variable for CI\n\n### On Timeout\n- Kill and report failure\n- Log what was running\n- Check for resource leaks\n- Investigate slow tests","start_line":1,"end_line":16}]}
{"source_id":"core","type":"evidence","title":"Snapshot Testing Patterns","signals":["evidence_audit"],"tags":["testing","snapshots","evidence"],"summary":"Using snapshot testing for regression detection.","chunks":[{"chunk_id":"core:snapshot-testing:1","text":"## Snapshot Testing\n\n### Purpose\n- Capture expected output\n- Detect unintended changes\n- Review diffs easily\n\n### Implementation\n- Store snapshots alongside tests\n- Update with command flag\n- Review in PR diffs\n\n### Best Practices\n- Normalize timestamps/IDs\n- Human-readable formats\n- Commit snapshots to git\n- Small, focused snapshots","start_line":1,"end_line":16}]}
{"source_id":"core","type":"evidence","title":"Build Artifact Metadata","signals":["evidence_audit","release_install"],"tags":["build","artifacts","metadata"],"summary":"Recording metadata about build artifacts.","chunks":[{"chunk_id":"core:build-metadata:1","text":"## Build Artifact Metadata\n\n### What to Record\n- Commit SHA\n- Build timestamp\n- Builder (CI job ID)\n- Compiler version\n- Dependencies locked versions\n\n### Format\n- buildinfo.json alongside binary\n- Embedded in binary (--version)\n- Release notes attachment\n\n### Usage\n- Reproducibility verification\n- Bug report debugging\n- Audit trail","start_line":1,"end_line":16}]}
{"source_id":"core","type":"plan","title":"Dependency Update Strategy","signals":["state_machine"],"tags":["dependencies","planning","maintenance"],"summary":"Strategy for keeping dependencies updated safely.","chunks":[{"chunk_id":"core:dep-update:1","text":"## Dependency Update Strategy\n\n### Frequency\n- Security: immediately\n- Major: quarterly review\n- Minor/Patch: monthly batch\n\n### Process\n1. Review changelog\n2. Check breaking changes\n3. Update in feature branch\n4. Full test suite\n5. Staged rollout\n\n### Automation\n- Dependabot/Renovate for PRs\n- Auto-merge for patch versions\n- Require approval for major","start_line":1,"end_line":17}]}
{"source_id":"core","type":"plan","title":"Feature Flag Strategy","signals":["state_machine"],"tags":["feature-flags","planning","rollout"],"summary":"Using feature flags for safe feature rollout.","chunks":[{"chunk_id":"core:feature-flags:1","text":"## Feature Flag Strategy\n\n### Types\n- Release flags: hide incomplete features\n- Experiment flags: A/B testing\n- Ops flags: kill switches\n\n### Implementation\n- Boolean flag at minimum\n- Percentage rollout if needed\n- User targeting for betas\n\n### Lifecycle\n1. Create flag (default off)\n2. Develop behind flag\n3. Test with flag on\n4. Gradual rollout\n5. Clean up flag when stable","start_line":1,"end_line":17}]}
{"source_id":"core","type":"contract","title":"Data Migration Contract","signals":["contract_lock"],"tags":["migration","data","contract"],"summary":"Contract template for database migrations.","chunks":[{"chunk_id":"core:migration-contract:1","text":"## Data Migration Contract\n\n### Pre-Migration\n- [ ] Backup completed\n- [ ] Rollback script ready\n- [ ] Downtime window communicated\n- [ ] Dry run successful\n\n### Migration Steps\n- [ ] Run migration script\n- [ ] Verify data integrity\n- [ ] Update application code\n- [ ] Monitor for issues\n\n### Rollback Criteria\n- Data loss detected\n- Error rate > threshold\n- Performance degradation\n- User reports of issues","start_line":1,"end_line":18}]}
{"source_id":"core","type":"contract","title":"Integration Points Contract","signals":["contract_lock"],"tags":["integration","api","contract"],"summary":"Defining integration points and responsibilities.","chunks":[{"chunk_id":"core:integration-contract:1","text":"## Integration Points Contract\n\n### For Each Integration\n- Endpoint/interface specification\n- Authentication method\n- Rate limits and quotas\n- Error handling expectations\n- SLA requirements\n\n### Responsibilities\n- Provider: uptime, documentation\n- Consumer: rate limit respect, error handling\n- Both: communication on changes\n\n### Change Management\n- 30 day notice for breaking changes\n- Version new endpoints\n- Maintain backward compatibility","start_line":1,"end_line":16}]}
{"source_id":"core","type":"security","title":"Logging Sensitive Data Rules","signals":["security_pattern"],"tags":["logging","security","privacy"],"summary":"Rules for what should never appear in logs.","chunks":[{"chunk_id":"core:log-security:1","text":"## Logging Sensitive Data Rules\n\n### Never Log\n- Passwords or password hashes\n- API keys or tokens\n- Credit card numbers\n- Social security numbers\n- Session identifiers\n- Full request bodies with PII\n\n### Redaction Patterns\n- Authorization: [REDACTED]\n- \"password\": \"***\"\n- First 4 / Last 4 only\n\n### Safe Logging\n- User IDs (if not PII)\n- Request IDs\n- Timestamps\n- Status codes\n- General error categories","start_line":1,"end_line":19}]}
{"source_id":"core","type":"security","title":"HTTPS Configuration Checklist","signals":["security_pattern"],"tags":["security","https","tls"],"summary":"Checklist for secure HTTPS configuration.","chunks":[{"chunk_id":"core:https-config:1","text":"## HTTPS Configuration Checklist\n\n### Minimum Requirements\n- [ ] TLS 1.2 minimum (prefer 1.3)\n- [ ] Strong cipher suites only\n- [ ] Valid certificate chain\n- [ ] HSTS header enabled\n\n### Headers\n- Strict-Transport-Security\n- X-Content-Type-Options: nosniff\n- X-Frame-Options: DENY\n- Content-Security-Policy\n\n### Certificate Management\n- Auto-renewal (Let's Encrypt)\n- Expiry monitoring\n- Key rotation schedule","start_line":1,"end_line":17}]}
{"source_id":"core","type":"template","title":"Contributing Guidelines Template","signals":["evidence_audit"],"tags":["template","contributing","documentation"],"summary":"Template for project contributing guidelines.","chunks":[{"chunk_id":"core:contributing-template:1","text":"## Contributing Guidelines Template\n\n### Getting Started\n- Fork and clone repository\n- Install dependencies\n- Run tests locally\n- Read code of conduct\n\n### Making Changes\n- Create feature branch\n- Make focused commits\n- Write/update tests\n- Update documentation\n\n### Submitting\n- Open pull request\n- Fill out PR template\n- Respond to feedback\n- Squash if requested","start_line":1,"end_line":18}]}
{"source_id":"core","type":"template","title":"Code of Conduct Template","signals":["evidence_audit"],"tags":["template","conduct","community"],"summary":"Template for project code of conduct.","chunks":[{"chunk_id":"core:coc-template:1","text":"## Code of Conduct Summary\n\n### Expected Behavior\n- Be respectful and inclusive\n- Focus on constructive feedback\n- Accept differing viewpoints\n- Show empathy to others\n\n### Unacceptable Behavior\n- Harassment or discrimination\n- Personal attacks\n- Trolling or insulting comments\n- Publishing others' private info\n\n### Enforcement\n- Reports to maintainers\n- Investigation within 1 week\n- Actions: warning to ban\n- All decisions final","start_line":1,"end_line":18}]}
{"source_id":"core","type":"iterate","title":"Memory Leak Detection","signals":["iterate_loop"],"tags":["debugging","memory","performance"],"summary":"Detecting and fixing memory leaks in applications.","chunks":[{"chunk_id":"core:memory-leaks:1","text":"## Memory Leak Detection\n\n### Symptoms\n- Memory usage grows over time\n- Out of memory errors\n- Performance degradation\n- Process restart \"fixes\" it\n\n### Detection Tools\n- valgrind (C/C++)\n- heaptrack\n- Browser DevTools (JS)\n- Memory profilers\n\n### Common Causes\n- Event listeners not removed\n- Caches without limits\n- Circular references\n- Global state accumulation","start_line":1,"end_line":17}]}
{"source_id":"core","type":"iterate","title":"Deadlock Debugging","signals":["iterate_loop"],"tags":["debugging","concurrency","deadlock"],"summary":"Identifying and resolving deadlock issues.","chunks":[{"chunk_id":"core:deadlock-debug:1","text":"## Deadlock Debugging\n\n### Symptoms\n- Application hangs\n- No CPU usage but no progress\n- Multiple threads waiting\n\n### Detection\n- Thread dump analysis\n- Lock ordering analysis\n- Timeout-based detection\n\n### Prevention\n- Consistent lock ordering\n- Lock timeouts\n- Avoid nested locks\n- Use lock-free structures where possible\n- Document lock order requirements","start_line":1,"end_line":16}]}
{"source_id":"core","type":"plan","title":"API Design Checklist","signals":["contract_lock"],"tags":["api","design","checklist"],"summary":"Checklist for designing consistent, usable APIs.","chunks":[{"chunk_id":"core:api-design:1","text":"## API Design Checklist\n\n### Naming\n- [ ] Consistent resource naming\n- [ ] Plural nouns for collections\n- [ ] Descriptive action names\n\n### Structure\n- [ ] RESTful conventions\n- [ ] Consistent response format\n- [ ] Pagination for lists\n- [ ] Filtering and sorting\n\n### Usability\n- [ ] Clear error messages\n- [ ] Examples in documentation\n- [ ] Rate limit headers\n- [ ] Versioning strategy","start_line":1,"end_line":17}]}
{"source_id":"core","type":"plan","title":"Database Schema Guidelines","signals":["state_machine"],"tags":["database","schema","design"],"summary":"Guidelines for designing database schemas.","chunks":[{"chunk_id":"core:db-schema:1","text":"## Database Schema Guidelines\n\n### General\n- Use UUIDs or auto-increment for PKs\n- Timestamps: created_at, updated_at\n- Soft delete with deleted_at\n- Foreign keys with constraints\n\n### Naming\n- snake_case for columns\n- Plural table names\n- Prefix indexes: idx_table_column\n\n### Performance\n- Index frequently queried columns\n- Avoid SELECT *\n- Normalize, then denormalize if needed\n- Partition large tables","start_line":1,"end_line":17}]}
{"source_id":"core","type":"evidence","title":"Metrics Collection Patterns","signals":["evidence_audit"],"tags":["metrics","monitoring","observability"],"summary":"Patterns for collecting useful metrics.","chunks":[{"chunk_id":"core:metrics-patterns:1","text":"## Metrics Collection Patterns\n\n### Key Metrics\n- Latency (p50, p95, p99)\n- Throughput (req/sec)\n- Error rate (%)\n- Saturation (queue depth)\n\n### Implementation\n- Counters for totals\n- Gauges for current values\n- Histograms for distributions\n\n### Best Practices\n- Meaningful metric names\n- Consistent labels/tags\n- Avoid high cardinality\n- Alert on thresholds","start_line":1,"end_line":17}]}
{"source_id":"core","type":"evidence","title":"Distributed Tracing Basics","signals":["evidence_audit"],"tags":["tracing","observability","debugging"],"summary":"Basic patterns for implementing distributed tracing.","chunks":[{"chunk_id":"core:dist-tracing:1","text":"## Distributed Tracing Basics\n\n### Concepts\n- Trace: full request journey\n- Span: single operation\n- Context: passed between services\n\n### Implementation\n- Generate trace ID at entry\n- Propagate via headers\n- Create spans for key operations\n- Log trace ID for correlation\n\n### What to Trace\n- HTTP requests\n- Database queries\n- External service calls\n- Async job processing","start_line":1,"end_line":17}]}
{"source_id":"core","type":"release","title":"Staged Rollout Patterns","signals":["release_install"],"tags":["release","rollout","deployment"],"summary":"Patterns for gradually rolling out releases.","chunks":[{"chunk_id":"core:staged-rollout:1","text":"## Staged Rollout Patterns\n\n### Stages\n1. Internal dogfooding (1%)\n2. Canary (5%)\n3. Early adopters (25%)\n4. General availability (100%)\n\n### Monitoring Between Stages\n- Error rates\n- Performance metrics\n- User feedback\n- Rollback if issues\n\n### Timing\n- Internal: 1-2 days\n- Canary: 1 day minimum\n- Full rollout: 1-2 weeks total","start_line":1,"end_line":17}]}
{"source_id":"core","type":"release","title":"Hotfix Process","signals":["release_install"],"tags":["release","hotfix","emergency"],"summary":"Process for emergency production fixes.","chunks":[{"chunk_id":"core:hotfix-process:1","text":"## Hotfix Process\n\n### When to Hotfix\n- Security vulnerability\n- Data corruption risk\n- Critical feature broken\n- Major user impact\n\n### Process\n1. Assess severity and impact\n2. Create hotfix branch from main\n3. Minimal fix only\n4. Fast-track review\n5. Deploy immediately\n6. Backport to develop\n\n### Post-Hotfix\n- Post-mortem within 48h\n- Prevent recurrence\n- Update monitoring","start_line":1,"end_line":18}]}
{"source_id":"core","type":"contract","title":"Performance SLA Template","signals":["contract_lock"],"tags":["sla","performance","contract"],"summary":"Template for defining performance service level agreements.","chunks":[{"chunk_id":"core:perf-sla:1","text":"## Performance SLA Template\n\n### Metrics\n- Availability: 99.9% (8.7h downtime/year)\n- Response time: p95 < 200ms\n- Throughput: 1000 req/sec sustained\n\n### Measurement\n- External uptime monitoring\n- Response time from edge\n- 5-minute rolling windows\n\n### Exclusions\n- Planned maintenance windows\n- Force majeure events\n- Customer-caused issues\n\n### Remedies\n- Credits for SLA breaches\n- Root cause reports","start_line":1,"end_line":17}]}
{"source_id":"core","type":"contract","title":"Data Retention Policy Template","signals":["contract_lock"],"tags":["data","retention","policy"],"summary":"Template for defining data retention policies.","chunks":[{"chunk_id":"core:data-retention:1","text":"## Data Retention Policy\n\n### By Data Type\n- User data: Until account deletion + 30 days\n- Audit logs: 1 year\n- Analytics: 90 days aggregated\n- Backups: 30 day rolling\n\n### Deletion Process\n- Soft delete first (30 days)\n- Hard delete after grace period\n- Backup purging follows retention\n\n### Compliance\n- GDPR: right to erasure\n- Data subject requests: 30 days\n- Retention schedule documented","start_line":1,"end_line":16}]}
{"source_id":"core","type":"security","title":"API Key Best Practices","signals":["security_pattern"],"tags":["security","api-keys","authentication"],"summary":"Best practices for API key management.","chunks":[{"chunk_id":"core:api-keys:1","text":"## API Key Best Practices\n\n### Generation\n- Cryptographically random\n- Sufficient entropy (256 bits)\n- Prefix for type: sk_, pk_\n\n### Storage\n- Hash in database (for lookup)\n- Never log full key\n- Display only last 4 chars in UI\n\n### Management\n- Rotation capability\n- Expiration dates\n- Scope limitations\n- Revocation mechanism\n- Creation audit log","start_line":1,"end_line":17}]}
{"source_id":"core","type":"security","title":"Authentication Token Types","signals":["security_pattern"],"tags":["security","authentication","tokens"],"summary":"Overview of different authentication token types and use cases.","chunks":[{"chunk_id":"core:auth-tokens:1","text":"## Authentication Token Types\n\n### JWT (JSON Web Token)\n- Use: Stateless authentication\n- Pros: No server lookup needed\n- Cons: Can't revoke easily\n- Best for: APIs, microservices\n\n### Session Tokens\n- Use: Web application sessions\n- Stored: Database or cache\n- Can revoke: Yes, delete from store\n- Best for: Traditional web apps\n\n### API Keys\n- Use: Machine-to-machine auth\n- Long-lived, per-application\n- Best for: Service integrations","start_line":1,"end_line":17}]}
{"source_id":"core","type":"template","title":"Architecture Decision Record","signals":["evidence_audit"],"tags":["template","adr","documentation"],"summary":"Template for documenting architecture decisions.","chunks":[{"chunk_id":"core:adr-template:1","text":"## Architecture Decision Record\n\n### Title\n[Short descriptive title]\n\n### Status\n[Proposed, Accepted, Deprecated, Superseded]\n\n### Context\n[What is the issue we're addressing?]\n\n### Decision\n[What is our decision?]\n\n### Consequences\n[What are the results of this decision?]\n\n### Alternatives Considered\n[What else did we consider?]","start_line":1,"end_line":18}]}
{"source_id":"core","type":"template","title":"Runbook Template","signals":["evidence_audit"],"tags":["template","runbook","operations"],"summary":"Template for operational runbooks.","chunks":[{"chunk_id":"core:runbook-template:1","text":"## Runbook Template\n\n### Overview\n[What this runbook covers]\n\n### When to Use\n[Trigger conditions]\n\n### Prerequisites\n[Access, tools, permissions needed]\n\n### Steps\n1. [First action]\n2. [Second action]\n3. [Continue...]\n\n### Rollback\n[How to undo if something goes wrong]\n\n### Escalation\n[Who to contact if stuck]","start_line":1,"end_line":19}]}
{"source_id":"core","type":"iterate","title":"Root Cause Analysis Template","signals":["iterate_loop"],"tags":["debugging","rca","analysis"],"summary":"Template for conducting root cause analysis.","chunks":[{"chunk_id":"core:rca-template:1","text":"## Root Cause Analysis\n\n### 5 Whys Method\n1. Why did X happen? Because Y\n2. Why did Y happen? Because Z\n3. Continue until root cause\n\n### Categories\n- Process: Missing steps/checks\n- People: Training/knowledge gap\n- Technology: Bug/limitation\n- External: Third-party/environment\n\n### Output\n- Root cause statement\n- Contributing factors\n- Corrective actions\n- Prevention measures","start_line":1,"end_line":17}]}
{"source_id":"core","type":"iterate","title":"Debug Logging Strategy","signals":["iterate_loop"],"tags":["debugging","logging","strategy"],"summary":"Strategy for effective debug logging.","chunks":[{"chunk_id":"core:debug-logging:1","text":"## Debug Logging Strategy\n\n### Log Levels\n- ERROR: Something failed\n- WARN: Something unexpected\n- INFO: Normal operations\n- DEBUG: Detailed for debugging\n- TRACE: Very verbose\n\n### What to Log\n- Entry/exit of key functions\n- Decision points with values\n- External calls and responses\n- State transitions\n\n### Best Practices\n- Structured logging (JSON)\n- Include context IDs\n- Timestamps with timezone\n- Easy to grep/filter","start_line":1,"end_line":19}]}
{"source_id":"core","type":"plan","title":"Load Testing Strategy","signals":["iterate_loop"],"tags":["testing","performance","load"],"summary":"Strategy for conducting load tests.","chunks":[{"chunk_id":"core:load-testing:1","text":"## Load Testing Strategy\n\n### Test Types\n- Smoke: Basic functionality under load\n- Load: Normal expected load\n- Stress: Beyond normal capacity\n- Spike: Sudden traffic bursts\n- Soak: Extended duration\n\n### Metrics to Capture\n- Response times (p50, p95, p99)\n- Error rates\n- Throughput\n- Resource utilization\n\n### Process\n1. Baseline performance\n2. Increase load gradually\n3. Find breaking point\n4. Document limits","start_line":1,"end_line":18}]}
{"source_id":"core","type":"plan","title":"Capacity Planning Guide","signals":["state_machine"],"tags":["planning","capacity","infrastructure"],"summary":"Guide for infrastructure capacity planning.","chunks":[{"chunk_id":"core:capacity-planning:1","text":"## Capacity Planning Guide\n\n### Current State\n- Measure current usage\n- Peak vs average load\n- Growth trend analysis\n\n### Projections\n- 3-6 month forecast\n- Account for seasonal peaks\n- Include planned features\n\n### Thresholds\n- Alert at 70% capacity\n- Scale at 80% capacity\n- Emergency at 90% capacity\n\n### Review Cadence\n- Monthly metrics review\n- Quarterly planning update","start_line":1,"end_line":18}]}

{"source_id":"core","type":"contract","title":"Rust Web Service Contract","signals":["contract_lock"],"tags":["rust","web","axum","actix"],"summary":"Contract template for high-performance Rust web services including middleware, error handling, and async runtime settings.","chunks":[{"chunk_id":"core:rust-web-contract:1","text":"## Rust Web Service Contract\n\n### Service Overview\n- **Name**: [Service Name]\n- **Framework**: Axum / Actix-web\n- **Runtime**: Tokio (Multi-thread)\n\n### Core Components\n- **Router**: Centralized route definitions\n- **Handlers**: Async functions returning Result<impl IntoResponse, AppError>\n- **State**: Arc<AppState> for shared resources (DB pool, config)\n- **Middleware**: Tracing, CORS, Timeout, Compression\n\n### Error Handling\n- Custom AppError enum implementing IntoResponse\n- Centralized error logging\n- User-friendly error messages (no internal details)\n\n### Performance Targets\n- P99 Latency < 50ms\n- Throughput > 10k req/sec\n- Memory < 100MB idle","start_line":1,"end_line":20}]}
{"source_id":"core","type":"contract","title":"Go Microservice Contract","signals":["contract_lock"],"tags":["go","microservice","grpc"],"summary":"Contract template for Go microservices using gRPC/Protobuf and Clean Architecture.","chunks":[{"chunk_id":"core:go-microservice-contract:1","text":"## Go Microservice Contract\n\n### Service Overview\n- **Name**: [Service Name]\n- **Protocol**: gRPC + HTTP/JSON Gateway\n- **Architecture**: Clean Architecture (Transport -> Endpoint -> Service -> Repository)\n\n### API Definition\n- **Protobuf**: Defined in /api/proto/v1\n- **Versioning**: Package versioning (v1, v2)\n- **Validation**: Protoc-gen-validate rules\n\n### Core Layers\n1. **Transport**: gRPC/HTTP handlers, decoding\n2. **Endpoint**: Request/Response structs, middleware\n3. **Service**: Business logic interface\n4. **Repository**: Data access interface\n\n### Observability\n- Structured logging (slog/zap)\n- Prometheus metrics (latency, errors, saturation)\n- Distributed tracing (OpenTelemetry)","start_line":1,"end_line":20}]}
{"source_id":"core","type":"contract","title":"TUI Application Contract","signals":["contract_lock"],"tags":["tui","rust","go","cli"],"summary":"Contract template for Terminal User Interface applications covering layout, input handling, and rendering loop.","chunks":[{"chunk_id":"core:tui-contract:1","text":"## TUI Application Contract\n\n### App Overview\n- **Name**: [App Name]\n- **Library**: Ratatui (Rust) / Bubbletea (Go)\n- **Theme**: Adaptive (Dark/Light support)\n\n### Architecture\n- **Model**: Application state\n- **View**: Rendering logic (Widgets, Layouts)\n- **Update**: Message handling loop\n\n### Key Components\n- **Input Handler**: Keyboard/Mouse events -> Actions\n- **Layout Engine**: Flexbox/Grid constraints\n- **Widgets**: List, Table, Chart, Paragraph\n\n### UX Requirements\n- **Responsive**: Adapts to terminal resize\n- **Shortcuts**: Vim-like navigation (j/k/h/l)\n- **Help**: Contextual help overlay (?)","start_line":1,"end_line":20}]}
{"source_id":"core","type":"contract","title":"Modern React App Contract","signals":["contract_lock"],"tags":["react","web","frontend"],"summary":"Contract template for modern React applications using Next.js/Remix, Server Components, and Tailwind CSS.","chunks":[{"chunk_id":"core:react-contract:1","text":"## Modern React App Contract\n\n### App Overview\n- **Framework**: Next.js (App Router) / Remix\n- **Styling**: Tailwind CSS + Shadcn/UI\n- **State**: Server State (TanStack Query) + Client State (Zustand)\n\n### Architecture\n- **Server Components**: Data fetching, heavy rendering\n- **Client Components**: Interactivity, hooks\n- **Layouts**: Nested layouts for persistence\n\n### Data Strategy\n- **Fetching**: Server-side fetching (RSC)\n- **Mutations**: Server Actions / API Routes\n- **Caching**: Revalidation strategy (Time-based / On-demand)\n\n### Performance\n- **Core Web Vitals**: All green (LCP, CLS, INP)\n- **Bundle Size**: < 100KB initial load JS\n- **Images**: Next/Image optimization","start_line":1,"end_line":20}]}
{"source_id":"core","type":"contract","title":"AI Agent Contract","signals":["contract_lock"],"tags":["ai","agent","llm"],"summary":"Contract template for AI agents covering tools, memory, prompts, and safety guardrails.","chunks":[{"chunk_id":"core:ai-agent-contract:1","text":"## AI Agent Contract\n\n### Agent Overview\n- **Name**: [Agent Name]\n- **Role**: [System Prompt Role]\n- **Model**: GPT-4 / Claude 3.5 / Llama 3\n\n### Capabilities\n- **Tools**: List of available functions (Search, Calculator, API)\n- **Memory**: Short-term (Window) + Long-term (Vector DB)\n- **Planning**: ReAct / COT / Tree of Thoughts\n\n### Guardrails\n- **Input**: PII redaction, Injection detection\n- **Output**: Hallucination check, Tone enforcement\n- **Budget**: Token limits per request/session\n\n### Evaluation\n- **Benchmarks**: Custom eval set (Golden Q&A)\n- **Metrics**: Accuracy, Latency, Cost per task","start_line":1,"end_line":20}]}
{"source_id":"core","type":"plan","title":"Database Migration Plan","signals":["state_machine"],"tags":["database","migration","plan"],"summary":"Plan template for safe database migrations including backup, dry-run, and rollback procedures.","chunks":[{"chunk_id":"core:db-migration-plan:1","text":"## Database Migration Plan\n\n### Pre-Migration Checklist\n- [ ] Backup verified (restore tested)\n- [ ] Migration script reviewed by DBA\n- [ ] Dry-run on staging successful\n- [ ] Application downtime scheduled (if needed)\n\n### Execution Steps\n1. **Lock**: Prevent new writes (if offline migration)\n2. **Backup**: Take point-in-time snapshot\n3. **Migrate**: Run `sqlx migrate run` / `prisma migrate deploy`\n4. **Verify**: Check schema changes and row counts\n5. **Unlock**: Enable application writes\n\n### Rollback Strategy\n- **Down Script**: Tested SQL to revert changes\n- **Restore**: Restore from snapshot if data corruption occurs\n- **Verification**: Ensure app works with old schema","start_line":1,"end_line":18}]}
{"source_id":"core","type":"plan","title":"Distributed System Implementation Plan","signals":["state_machine"],"tags":["distributed","plan","system"],"summary":"Implementation plan for distributed systems covering consensus, replication, and partition tolerance.","chunks":[{"chunk_id":"core:dist-sys-plan:1","text":"## Distributed System Implementation Plan\n\n### Phase 1: Node Architecture\n- [ ] Node lifecycle (join, leave, crash)\n- [ ] RPC interface definition\n- [ ] Local storage engine\n- [ ] Configuration propagation\n\n### Phase 2: Consensus & Replication\n- [ ] Leader election (Raft/Paxos)\n- [ ] Log replication\n- [ ] State machine application\n- [ ] Snapshotting for log compaction\n\n### Phase 3: Resilience\n- [ ] Network partition handling\n- [ ] Byzantine fault tolerance (if needed)\n- [ ] Jepsen testing suite\n- [ ] Chaos engineering drills\n\n### Phase 4: Operations\n- [ ] Monitoring dashboard (Grafana)\n- [ ] Alerting rules\n- [ ] Rolling upgrade procedure","start_line":1,"end_line":20}]}
{"source_id":"core","type":"evidence","title":"Performance Audit Checklist","signals":["evidence_audit"],"tags":["performance","audit","checklist"],"summary":"Checklist for performance auditing covering CPU, memory, I/O, and network metrics.","chunks":[{"chunk_id":"core:perf-audit:1","text":"## Performance Audit Checklist\n\n### CPU Profiling\n- [ ] Hot paths identified (Flamegraph)\n- [ ] Lock contention analysis\n- [ ] Context switch rate checked\n- [ ] SIMD opportunities identified\n\n### Memory Analysis\n- [ ] Leak detection (Valgrind/Heaptrack)\n- [ ] Allocation rate (gc pressure)\n- [ ] Cache hit rates (L1/L2/L3)\n- [ ] Struct padding optimization\n\n### I/O & Network\n- [ ] Disk IOPS saturation check\n- [ ] Network throughput vs bandwidth\n- [ ] Serialization overhead measured\n- [ ] Database query performance (N+1 check)","start_line":1,"end_line":18}]}
{"source_id":"core","type":"evidence","title":"Security Audit Checklist","signals":["security_pattern"],"tags":["security","audit","checklist"],"summary":"Comprehensive security audit checklist covering auth, data, network, and dependencies.","chunks":[{"chunk_id":"core:sec-audit:1","text":"## Security Audit Checklist\n\n### Authentication & AuthZ\n- [ ] No hardcoded credentials\n- [ ] JWT signature verification\n- [ ] Password hashing (Argon2/Bcrypt)\n- [ ] RBAC enforcement on all endpoints\n\n### Data Security\n- [ ] SQL injection prevention (Prepared statements)\n- [ ] XSS prevention (Content Security Policy)\n- [ ] CSRF tokens implemented\n- [ ] Sensitive data redacted in logs\n\n### Infrastructure\n- [ ] TLS configuration (HSTS, Cipher suites)\n- [ ] Firewalls and Security Groups\n- [ ] Container security (Rootless, Minimal base)\n- [ ] Dependency vulnerability scan (Audit)","start_line":1,"end_line":18}]}
{"source_id":"core","type":"contract","title":"REST API Design Contract","signals":["contract_lock"],"tags":["api","rest","design"],"summary":"Contract template for REST API design covering endpoints, HTTP methods, status codes, and pagination.","chunks":[{"chunk_id":"core:rest-api-design:1","text":"## REST API Design Contract\n\n### Endpoint Naming\n- Use nouns, not verbs: `/users`, `/orders`\n- Use plural nouns: `/users` not `/user`\n- Use lowercase with hyphens: `/user-profiles`\n\n### HTTP Methods\n| Method | Use Case | Idempotent |\n|--------|----------|------------|\n| GET | Read | Yes |\n| POST | Create | No |\n| PUT | Full Update | Yes |\n| PATCH | Partial Update | No |\n| DELETE | Remove | Yes |\n\n### Status Codes\n- 200: Success\n- 201: Created\n- 204: No Content\n- 400: Bad Request\n- 401: Unauthorized\n- 403: Forbidden\n- 404: Not Found\n- 500: Internal Error","start_line":1,"end_line":24}]}
{"source_id":"core","type":"contract","title":"GraphQL API Contract","signals":["contract_lock"],"tags":["api","graphql","design"],"summary":"Contract template for GraphQL API design covering schema, queries, mutations, and subscriptions.","chunks":[{"chunk_id":"core:graphql-api:1","text":"## GraphQL API Contract\n\n### Schema Design\n- **Types**: Use PascalCase (User, Order)\n- **Fields**: Use camelCase (firstName, createdAt)\n- **Enums**: Use SCREAMING_SNAKE_CASE\n\n### Query Patterns\n- Single item: `user(id: ID!): User`\n- List: `users(first: Int, after: String): UserConnection`\n- Use connections for pagination\n\n### Mutations\n- Input types: `CreateUserInput`, `UpdateUserInput`\n- Return payload: `CreateUserPayload { user, errors }`\n\n### Best Practices\n- N+1 prevention with DataLoader\n- Depth limiting (max 5 levels)\n- Query complexity analysis\n- Rate limiting per operation","start_line":1,"end_line":20}]}
{"source_id":"core","type":"iterate","title":"Code Review Checklist","signals":["iterate_loop"],"tags":["review","checklist","quality"],"summary":"Checklist for conducting effective code reviews focusing on correctness, maintainability, and security.","chunks":[{"chunk_id":"core:code-review:1","text":"## Code Review Checklist\n\n### Correctness\n- [ ] Logic handles edge cases\n- [ ] Error handling is appropriate\n- [ ] No off-by-one errors\n- [ ] Concurrent access is safe\n\n### Maintainability\n- [ ] Code is self-documenting\n- [ ] Functions are small and focused\n- [ ] No magic numbers or strings\n- [ ] Consistent naming conventions\n\n### Performance\n- [ ] No N+1 queries\n- [ ] Appropriate data structures\n- [ ] No unnecessary allocations\n\n### Security\n- [ ] Input validation present\n- [ ] No SQL injection risk\n- [ ] Sensitive data protected","start_line":1,"end_line":22}]}
{"source_id":"core","type":"iterate","title":"PR Description Template","signals":["iterate_loop"],"tags":["pr","template","git"],"summary":"Template for writing effective pull request descriptions with context, changes, and testing.","chunks":[{"chunk_id":"core:pr-template:1","text":"## PR Description Template\n\n### Context\n<!-- Why is this change needed? -->\n\n### Changes\n- [ ] Added/Modified feature X\n- [ ] Updated tests\n- [ ] Updated documentation\n\n### Type\n- [ ] Feature\n- [ ] Bug Fix\n- [ ] Refactor\n- [ ] Documentation\n\n### Testing\n- [ ] Unit tests added/updated\n- [ ] Integration tests pass\n- [ ] Manual testing performed\n\n### Screenshots\n<!-- If UI changes, add screenshots -->","start_line":1,"end_line":22}]}
{"source_id":"core","type":"plan","title":"CI/CD Pipeline Plan","signals":["state_machine"],"tags":["cicd","devops","plan"],"summary":"Plan template for CI/CD pipeline covering build, test, security, and deployment stages.","chunks":[{"chunk_id":"core:cicd-plan:1","text":"## CI/CD Pipeline Plan\n\n### Stage 1: Build\n- [ ] Compile/transpile source\n- [ ] Run linters (eslint, clippy)\n- [ ] Check formatting\n- [ ] Generate artifacts\n\n### Stage 2: Test\n- [ ] Unit tests\n- [ ] Integration tests\n- [ ] Coverage report (>80%)\n\n### Stage 3: Security\n- [ ] Dependency scan (Dependabot/Snyk)\n- [ ] Secret detection\n- [ ] Container scan\n\n### Stage 4: Deploy\n- [ ] Staging deployment\n- [ ] Smoke tests\n- [ ] Production deployment\n- [ ] Health checks","start_line":1,"end_line":22}]}
{"source_id":"core","type":"plan","title":"Incident Response Plan","signals":["state_machine"],"tags":["incident","sre","plan"],"summary":"Plan template for incident response covering detection, mitigation, resolution, and post-mortem.","chunks":[{"chunk_id":"core:incident-plan:1","text":"## Incident Response Plan\n\n### Detection (0-5 min)\n- Alert received via PagerDuty/Slack\n- Acknowledge incident\n- Assess severity (P1-P4)\n\n### Mitigation (5-30 min)\n- Rollback if recent deploy\n- Scale resources if load issue\n- Enable feature flags fallback\n- Communicate to stakeholders\n\n### Resolution\n- Root cause identified\n- Fix implemented\n- Tests verified\n- Deploy fix\n\n### Post-Mortem (within 48h)\n- Timeline of events\n- Root cause analysis\n- Action items with owners\n- Lessons learned","start_line":1,"end_line":22}]}
{"source_id":"core","type":"evidence","title":"API Documentation Checklist","signals":["evidence_audit"],"tags":["api","documentation","checklist"],"summary":"Checklist for comprehensive API documentation covering endpoints, examples, and error codes.","chunks":[{"chunk_id":"core:api-docs:1","text":"## API Documentation Checklist\n\n### Essentials\n- [ ] Base URL and versioning\n- [ ] Authentication method\n- [ ] Rate limits specified\n\n### For Each Endpoint\n- [ ] HTTP method and path\n- [ ] Request parameters (query, path, body)\n- [ ] Request body schema with example\n- [ ] Response schema with example\n- [ ] Error codes and messages\n\n### Examples\n- [ ] cURL examples\n- [ ] Language-specific SDKs\n- [ ] Postman collection\n\n### Changelog\n- [ ] Breaking changes highlighted\n- [ ] Deprecation notices","start_line":1,"end_line":20}]}
{"source_id":"core","type":"evidence","title":"Logging Standards","signals":["evidence_audit"],"tags":["logging","observability","standards"],"summary":"Standards for structured logging covering log levels, fields, and best practices.","chunks":[{"chunk_id":"core:logging-standards:1","text":"## Logging Standards\n\n### Log Levels\n- **ERROR**: System failures requiring action\n- **WARN**: Potential issues to monitor\n- **INFO**: Key business events\n- **DEBUG**: Detailed diagnostic info\n\n### Required Fields\n- timestamp: ISO 8601\n- level: log level\n- service: service name\n- trace_id: distributed tracing\n- user_id: (if authenticated)\n\n### Best Practices\n- Never log sensitive data (PII, secrets)\n- Use structured JSON format\n- Include context (request_id, user_id)\n- Rate limit high-volume logs","start_line":1,"end_line":20}]}
{"source_id":"core","type":"contract","title":"Microservice Boundaries Contract","signals":["contract_lock"],"tags":["microservices","architecture","boundaries"],"summary":"Contract for defining microservice boundaries covering ownership, APIs, and data isolation.","chunks":[{"chunk_id":"core:microservice-boundaries:1","text":"## Microservice Boundaries Contract\n\n### Service Identity\n- **Name**: [service-name]\n- **Owner**: [team]\n- **Domain**: [bounded context]\n\n### API Contract\n- Sync: REST/gRPC endpoints\n- Async: Event topics produced/consumed\n- Schema registry for versioning\n\n### Data Ownership\n- Own database instance\n- No direct DB access from other services\n- Data shared via API/events\n\n### Dependencies\n- Upstream services called\n- Downstream consumers\n- Circuit breaker policies","start_line":1,"end_line":20}]}
{"source_id":"core","type":"contract","title":"Feature Flag Contract","signals":["contract_lock"],"tags":["feature-flag","release","contract"],"summary":"Contract for feature flag implementation covering naming, rollout, and cleanup.","chunks":[{"chunk_id":"core:feature-flag:1","text":"## Feature Flag Contract\n\n### Naming Convention\n- Format: `ff_<feature>_<variant>`\n- Example: `ff_new_checkout_enabled`\n\n### Flag Types\n- **Release**: Gradual rollout (0-100%)\n- **Experiment**: A/B testing\n- **Ops**: Kill switch for features\n- **Permission**: User segment targeting\n\n### Lifecycle\n1. Create flag (disabled by default)\n2. Gradual rollout (10% -> 50% -> 100%)\n3. Monitor metrics\n4. Remove flag code (within 30 days of 100%)\n\n### Cleanup\n- Stale flags: >90 days at 100%\n- Quarterly flag audit\n- Remove dead code paths","start_line":1,"end_line":20}]}
